(self.webpackChunk_scribd_app_monolith=self.webpackChunk_scribd_app_monolith||[]).push([[3952,1571],{23952:(t,o,e)=>{var n,i=e(23589),r=function(t,o){return function(){return t.apply(o,arguments)}},c=[].slice,l={}.hasOwnProperty;(n=window.Scribd).Lightbox=function(){function t(t,o){var e,c;null==o&&(o=!0),this.set_title=r(this.set_title,this),this.container=$(t).on("scribd:lightbox_reshape",(c=this,function(){return c.set_position()})),this.container.data("lightbox_obj",this),e=function(t){return function(){return t.set_position()}}(this),e=i.throttle(e,100),window.addEventListener("resize",e),o&&(this.container.closest(n.Lightbox.lightboxes).length||this.container.appendTo(n.Lightbox.lightboxes))}return t.prototype.offset_top=40,t.last_focused_element=$(document),t.current_open=null,t.stacked=!1,t.ready=$.Deferred().done((function(){return $(document).trigger("ScribdLightboxInitialized")})),t.initialize=function(){return $((t=this,function(){return t.lightboxes=$("#lightboxes"),t.lightbox_container=$("#lightbox_area"),$(document).keydown((function(o){if(27===o.keyCode)return t.current_open&&t.current_open.user_closable()&&!t.stacked?(t.close(),o.preventDefault()):void 0})),t.lightboxes.on("click",".close_button, .close_link, .close_lb_btn",(function(o){if(o.preventDefault(),!t.stacked)return t.close()})),t.lightbox_container.on("click",(function(o){var e;if(!(e=$(o.target)).closest(".lightbox").length&&e.closest(document.body).length)return t.current_open&&t.current_open.user_closable()&&!t.stacked&&!$(o.target).closest(".flash").length?t.close():void 0})),n.Lightbox.ready.resolve()}));var t},t.fade_in_overlay=function(o,e,n){return null==o&&(o=""),null==e&&(e=""),null==n&&(n=200),clearTimeout(t._fade_out_overlay_timeout),t.overlay||(t.overlay=$('<div id="overlay"></div>').hide().appendTo("body").on("click",(function(){if(t.current_open&&t.current_open.user_closable())return t.close(),!1}))),t.overlay.css({"background-color":e,opacity:o}).fadeIn({duration:n})},t.fade_out_overlay=function(){return t.overlay.fadeOut({duration:200})},t.open=function(){var t,o,e,i,r,l,s;if(i=arguments[0],t=arguments[1],o=3<=arguments.length?c.call(arguments,2):[],null==t&&(t=n.Lightbox),this!==n.Lightbox)return(s=n.Lightbox).open.apply(s,[i,this].concat(c.call(o)));if(t._is_react_factory)return this.open_react(i,t);if(!(l=$("#"+i)).length)throw"failed to find lightbox: "+i;return l.is("script")&&(e=l.data("template")||l.html(),l=$(e).replaceAll(l)),(r=l.data("lightbox_obj"))||(r=function(t,o,e){e.prototype=t.prototype;var n=new e,i=t.apply(n,o);return Object(i)===i?i:n}(t,[l].concat(c.call(o)),(function(){}))),r.id=i,r.show(n.Lightbox.open_callback),r},t.open_react=function(t,o,e){var n;return this.lightboxes||(this.lightboxes=$("#lightboxes")),(n=this.lightboxes.find("#"+t)).length||(n=$('<div class="react_lightbox" />').attr("id",t).appendTo(this.lightboxes)),n.show(),ReactDOM.unmountComponentAtNode(n[0]),i.defer((function(){return ReactDOM.render(o,n[0],e)}))},t.close_react=function(t){var o;if((o=this.lightboxes.find("#"+t)).length>0)return o.hide()},t.close=function(t){var o;if(null==t&&(t=!0),this.current_open)return t&&this.fade_out_overlay(),(o=this.current_open)?(this.current_open=null,o.hide(),o.container.trigger("Scribd:lightbox:closed"),$(document.body).removeClass("lightbox_open")):void 0},t.open_from_object=function(){var t,o,e,i,r;return e=arguments[0],i=arguments[1],t=arguments[2],o=4<=arguments.length?c.call(arguments,3):[],null==t&&(t=null),this!==n.Lightbox?(r=n.Lightbox).open_from_object.apply(r,[e,i,this].concat(c.call(o))):(e&&$("#"+e).remove(),e=$(i).appendTo(this.lightboxes).attr("id")||e,this.open.apply(this,[e,t].concat(c.call(o))))},t.remote_open=function(t,o,e,i){var r,c,l;return null==e&&(e={}),null==i&&(i=null),this!==n.Lightbox?n.Lightbox.remote_open(t,o,e,this):(l="POST",$.isPlainObject(t)&&(t=(c=t).id,o=c.url,r=c.on_error,i=c.T||i,l=c.method||l,e=c.params||e),(null!=c?c.show_loading:void 0)?"function"==typeof c.show_loading&&c.show_loading():this.show_loading(),$.ajax({url:o,data:e,type:l,dataType:(null!=c?c.dataType:void 0)||"html",error:r,success:function(o){var e,r;return $.isPlainObject(o)&&(e=o.opts),(null!=o?o.content:void 0)?o=o.content:(null!=o?o.props:void 0)&&(o=o.props),r=n.Lightbox.open_from_object(t,$(o),i,e),null!=c&&"function"==typeof c.after_open?c.after_open(r):void 0},error:function(t,o,e){return n.Lightbox.close(),null!=c&&"function"==typeof c.on_error?c.on_error():void 0}}))},t.show_loading=function(){return this.open("loading_lb")},t.open_callback=function(t){return t.attr("aria-hidden","false"),$(document.activeElement).is("#loading_lb, body")||(n.Lightbox.last_focused_element=$(document.activeElement)),t.focus(),t.trap_focus_in_children(),t.trigger("Scribd:lightbox:opened")},t.close_callback=function(t){return t.is("#loading_lb")||n.Lightbox.last_focused_element.focus(),t.attr("aria-hidden","false")},t.prototype.user_closable=function(){return this.container.find(".close_button, .close_lb_btn").length>0},t.prototype.set_title=function(t){var o;return(o=this.container.find(".title")).length||(o=$('<h2 class="title"></h2>'),this.container.find(".content").prepend(o)),o.text(t),this.container.attr("aria-label",t)},t.prototype.hide=function(){if(this.container.hide(),n.Lightbox.close_callback(this.container),null!=n.Lightbox.current_open)return n.Lightbox.current_open.container.focus()},t.prototype.close=function(t){if(null==t&&(t=!0),n.Lightbox.current_open===this)return n.Lightbox.close(t)},t.prototype.transition=function(t,o){var e;return null!=t&&t.hide(this),this.container.fadeIn("fast",(e=this,function(){return n.Lightbox.open_callback(e.container)})),"function"==typeof o?o():void 0},t.prototype.show=function(){var t,o,e;if(n.Lightbox.current_open!==this)return t=this.container.data("overlay_color"),e=this.container.data("overlay_opacity"),$(document.body).addClass("lightbox_open"),n.Lightbox.fade_in_overlay(e,t||""),this.set_position(),null!=(o=n.Lightbox.current_open)&&o.container.removeClass("open_lightbox"),n.Lightbox.current_open=this,this.container.addClass("open_lightbox"),this.transition(o,(function(){return null!=o?o.container.trigger("Scribd:lightbox:closed"):void 0})),this.after_show()},t.prototype.set_position=function(){var t,o;return o=$(window),t={top:this.container.is(".vertically_centered")?Math.max(10,Math.floor((o.height()-this.container.outerHeight())/2)):this.offset_top},this.container.hasClass("auto_center")||(t.left="50%",t.transform="translateX(-50%)"),this.container.css(t)},t.prototype.after_show=function(){},t}(),n.StackedLightbox=function(t){function o(t,e){this.container=t,this.opts=e,this.close=r(this.close,this),o.__super__.constructor.apply(this,arguments),this.container.addClass("stacked_lightbox"),this.setup_events()}return function(t,o){for(var e in o)l.call(o,e)&&(t[e]=o[e]);function n(){this.constructor=t}n.prototype=o.prototype,t.prototype=new n,t.__super__=o.prototype}(o,t),o.instances=[],o.show_overlay=function(){return o.overlay||(o.overlay=o.add_overlay()),o.overlay.show().css("opacity","0.5"),n.Lightbox.stacked=!0},o.hide_overlay=function(){var t;return null!=(t=o.overlay)&&t.css("opacity","0").hide(),i.defer((function(){if(!o.instances.length)return n.Lightbox.stacked=!1}))},o.add_overlay=function(){return o.overlay=$('<div class="stacked_overlay"></div>').prependTo("#lightboxes").hide().click((function(){var t;return null!=(t=n.StackedLightbox.instances[n.StackedLightbox.instances.length-1])?t.close():void 0})),o.overlay},o.close=function(){var t;if(n.StackedLightbox.hide_overlay(),n.StackedLightbox.instances.length)return(t=n.StackedLightbox.instances.pop()).container.fadeOut("fast",(function(){return n.Lightbox.close_callback(t.container)})).trigger("Scribd:stacked_lightbox:closed"),n.Lightbox.current_open?void 0:$(document.body).removeClass("lightbox_open")},o.prototype.set_position=function(){var t;if(o.__super__.set_position.apply(this,arguments),(t=this.container.closest(".carousel_scroll_parent")).scrollTop()>0)return t.animate({scrollTop:0})},o.prototype.open=function(){var t;return $(document.body).addClass("lightbox_open"),this.container.fadeIn("fast",(t=this,function(){return n.Lightbox.open_callback(t.container)})),n.StackedLightbox.instances.push(this),n.StackedLightbox.show_overlay(),this.set_position()},o.prototype.show=function(){return this.open()},o.prototype.close=function(){return n.StackedLightbox.close()},o.prototype.setup_events=function(){var t;return $(document).on("keydown.stacked_lightbox_close",(t=this,function(o){if(27===o.keyCode)return t.close()})),this.container.dispatch("click",{close_button:this.close})},o.prototype.another_lightbox_is_open=function(){return n.Lightbox.current_open||$("#lightboxes .overlay:visible, #lightboxes .stacked_overlay:visible").length},o}(n.Lightbox)}}]);
//# sourceMappingURL=https://www.scribd.com/webpack/monolith/3952.3e055d1a5f6618ee793b.js.map