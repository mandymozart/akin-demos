"use strict";(self.webpackChunk_scribd_app_monolith=self.webpackChunk_scribd_app_monolith||[]).push([[3627],{8757:(t,e,i)=>{i.d(e,{M:()=>r,g:()=>n});var a=i(49526),o=i(26214);const s=new Map;function r(t,e){let i=s.get(t);return i||(i=new Map,s.set(t,i)),i.has(e)||i.set(e,[]),i.get(e)}function n(t,e,i){return s=>(0,a.s)(this,void 0,void 0,(function*(){if(s&&"object"==typeof s&&"rr_type"in s){if(i&&(i.isUnchanged=!1),"ImageBitmap"===s.rr_type&&"args"in s){const a=yield n(t,e,i)(s.args);return yield createImageBitmap.apply(null,a)}if("index"in s){if(i||null===e)return s;const{rr_type:t,index:a}=s;return r(e,t)[a]}if("args"in s){const{rr_type:a,args:o}=s;return new(0,window[a])(...yield Promise.all(o.map(n(t,e,i))))}if("base64"in s)return(0,o.D)(s.base64);if("src"in s){const e=t.get(s.src);if(e)return e;{const e=new Image;return e.src=s.src,t.set(s.src,e),e}}if("data"in s&&"Blob"===s.rr_type){const a=yield Promise.all(s.data.map(n(t,e,i)));return new Blob(a,{type:s.type})}}else if(Array.isArray(s)){return yield Promise.all(s.map(n(t,e,i)))}return s}))}},42558:(t,e,i)=>{i.d(e,{A:()=>l});var a=i(49526),o=i(32775),s=i(8757);const r=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject"];function n({mutation:t,target:e,type:i,imageMap:n,errorHandler:l}){return(0,a.s)(this,void 0,void 0,(function*(){try{const a=function(t,e){try{return e===o.Qv.WebGL?t.getContext("webgl")||t.getContext("experimental-webgl"):t.getContext("webgl2")}catch(t){return null}}(e,i);if(!a)return;if(t.setter)return void(a[t.property]=t.args[0]);const l=a[t.property],c=yield Promise.all(t.args.map((0,s.g)(n,a)));!function(t,e){if(!(null==e?void 0:e.constructor))return;const{name:i}=e.constructor;if(!r.includes(i))return;const a=(0,s.M)(t,i);a.includes(e)||a.push(e)}(a,l.apply(a,c))}catch(e){l(t,e)}}))}function l({event:t,mutation:e,target:i,imageMap:r,canvasEventMap:l,errorHandler:c}){return(0,a.s)(this,void 0,void 0,(function*(){try{const d=l.get(t)||e,p="commands"in d?d.commands:[d];if([o.Qv.WebGL,o.Qv.WebGL2].includes(e.type)){for(let t=0;t<p.length;t++){const a=p[t];yield n({mutation:a,type:e.type,target:i,imageMap:r,errorHandler:c})}return}yield function({event:t,mutations:e,target:i,imageMap:o,errorHandler:r}){return(0,a.s)(this,void 0,void 0,(function*(){const n=i.getContext("2d");if(!n)return void r(e[0],new Error("Canvas context is null"));const l=e.map((t=>(0,a.s)(this,void 0,void 0,(function*(){return Promise.all(t.args.map((0,s.g)(o,n)))}))));(yield Promise.all(l)).forEach(((i,a)=>{const s=e[a];try{if(s.setter)return void(n[s.property]=s.args[0]);const e=n[s.property];"drawImage"===s.property&&"string"==typeof s.args[0]?(o.get(t),e.apply(n,s.args)):e.apply(n,i)}catch(t){r(s,t)}}))}))}({event:t,mutations:p,target:i,imageMap:r,errorHandler:c})}catch(t){c(e,t)}}))}},92834:(t,e,i)=>{i.d(e,{JT:()=>r,ZT:()=>n});var a=i(65239),o=i(32775),s=i(6662);function r(t,{getCastFn:e,applyEventsSynchronously:i,emitter:r}){const n=(0,a.Op)({id:"player",context:t,initial:"paused",states:{playing:{on:{PAUSE:{target:"paused",actions:["pause"]},CAST_EVENT:{target:"playing",actions:"castEvent"},END:{target:"paused",actions:["resetLastPlayedEvent","pause"]},ADD_EVENT:{target:"playing",actions:["addEvent"]}}},paused:{on:{PLAY:{target:"playing",actions:["recordTimeOffset","play"]},CAST_EVENT:{target:"paused",actions:"castEvent"},TO_LIVE:{target:"live",actions:["startLive"]},ADD_EVENT:{target:"paused",actions:["addEvent"]}}},live:{on:{ADD_EVENT:{target:"live",actions:["addEvent"]},CAST_EVENT:{target:"live",actions:["castEvent"]}}}}},{actions:{castEvent:(0,a.kp)({lastPlayedEvent:(t,e)=>"CAST_EVENT"===e.type?e.payload.event:t.lastPlayedEvent}),recordTimeOffset:(0,a.kp)(((t,e)=>{let i=t.timeOffset;return"payload"in e&&"timeOffset"in e.payload&&(i=e.payload.timeOffset),Object.assign(Object.assign({},t),{timeOffset:i,baselineTime:t.events[0].timestamp+i})})),play(t){var a;const{timer:n,events:l,baselineTime:c,lastPlayedEvent:d}=t;n.clear();for(const t of l)(0,s.V)(t,c);const p=function(t,e){for(let i=t.length-1;i>=0;i--){const a=t[i];if(a.type===o.Bx.Meta&&a.timestamp<=e)return t.slice(i)}return t}(l,c);let u=null==d?void 0:d.timestamp;(null==d?void 0:d.type)===o.Bx.IncrementalSnapshot&&d.data.source===o.Cj.MouseMove&&(u=d.timestamp+(null===(a=d.data.positions[0])||void 0===a?void 0:a.timeOffset)),c<(u||0)&&r.emit(o.Y$.PlayBack);const m=new Array;for(const t of p)if(!(u&&u<c&&(t.timestamp<=u||t===d)))if(t.timestamp<c)m.push(t);else{const i=e(t,!1);n.addAction({doAction:()=>{i()},delay:t.delay})}i(m),r.emit(o.Y$.Flush),n.start()},pause(t){t.timer.clear()},resetLastPlayedEvent:(0,a.kp)((t=>Object.assign(Object.assign({},t),{lastPlayedEvent:null}))),startLive:(0,a.kp)({baselineTime:(t,e)=>(t.timer.start(),"TO_LIVE"===e.type&&e.payload.baselineTime?e.payload.baselineTime:Date.now())}),addEvent:(0,a.kp)(((t,i)=>{const{baselineTime:a,timer:o,events:r}=t;if("ADD_EVENT"===i.type){const{event:t}=i.payload;(0,s.V)(t,a);let n=r.length-1;if(!r[n]||r[n].timestamp<=t.timestamp)r.push(t);else{let e=-1,i=0;for(;i<=n;){const e=Math.floor((i+n)/2);r[e].timestamp<=t.timestamp?i=e+1:n=e-1}-1===e&&(e=i),r.splice(e,0,t)}const l=t.timestamp<a,c=e(t,l);l?c():o.isActive()&&o.addAction({doAction:()=>{c()},delay:t.delay})}return Object.assign(Object.assign({},t),{events:r})}))}});return(0,a.U4)(n)}function n(t){const e=(0,a.Op)({id:"speed",context:t,initial:"normal",states:{normal:{on:{FAST_FORWARD:{target:"skipping",actions:["recordSpeed","setSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}},skipping:{on:{BACK_TO_NORMAL:{target:"normal",actions:["restoreSpeed"]},SET_SPEED:{target:"normal",actions:["setSpeed"]}}}}},{actions:{setSpeed:(t,e)=>{"payload"in e&&t.timer.setSpeed(e.payload.speed)},recordSpeed:(0,a.kp)({normalSpeed:t=>t.timer.speed}),restoreSpeed:t=>{t.timer.setSpeed(t.normalSpeed)}}});return(0,a.U4)(e)}},31936:(t,e,i)=>{i.d(e,{g:()=>o});var a=i(32775);class o{constructor(t){this.mediaMap=new Map,this.metadataCallbackMap=new Map,this.warn=t.warn,this.service=t.service,this.speedService=t.speedService,this.emitter=t.emitter,this.getCurrentTime=t.getCurrentTime,this.emitter.on(a.Y$.Start,this.start.bind(this)),this.emitter.on(a.Y$.SkipStart,this.start.bind(this)),this.emitter.on(a.Y$.Pause,this.pause.bind(this)),this.emitter.on(a.Y$.Finish,this.pause.bind(this)),this.speedService.subscribe((()=>{this.syncAllMediaElements()}))}syncAllMediaElements(t={pause:!1}){this.mediaMap.forEach(((e,i)=>{this.syncTargetWithState(i),t.pause&&i.pause()}))}start(){this.syncAllMediaElements()}pause(){this.syncAllMediaElements({pause:!0})}seekTo({time:t,target:e,mediaState:i}){if(i.isPlaying){const a=(t-i.lastInteractionTimeOffset)/1e3*i.playbackRate,o="duration"in e&&e.duration;if(Number.isNaN(o))return void this.waitForMetadata(e);let s=i.currentTimeAtLastInteraction+a;e.loop&&!1!==o&&(s%=o),e.currentTime=s}else e.pause(),e.currentTime=i.currentTimeAtLastInteraction}waitForMetadata(t){if(this.metadataCallbackMap.has(t))return;if(!("addEventListener"in t))return;const e=()=>{this.metadataCallbackMap.delete(t);const e=this.mediaMap.get(t);e&&this.seekTo({time:this.getCurrentTime(),target:t,mediaState:e})};this.metadataCallbackMap.set(t,e),t.addEventListener("loadedmetadata",e,{once:!0})}getMediaStateFromMutation({target:t,timeOffset:e,mutation:i}){var a,o,s,r,n;const l=this.mediaMap.get(t),{type:c,playbackRate:d,currentTime:p,muted:u,volume:m,loop:f}=i;return{isPlaying:0===c||1!==c&&((null==l?void 0:l.isPlaying)||null!==t.getAttribute("autoplay")),currentTimeAtLastInteraction:null!==(a=null!=p?p:null==l?void 0:l.currentTimeAtLastInteraction)&&void 0!==a?a:0,lastInteractionTimeOffset:e,playbackRate:null!==(o=null!=d?d:null==l?void 0:l.playbackRate)&&void 0!==o?o:1,volume:null!==(s=null!=m?m:null==l?void 0:l.volume)&&void 0!==s?s:1,muted:null!==(r=null!=u?u:null==l?void 0:l.muted)&&void 0!==r?r:null===t.getAttribute("muted"),loop:null!==(n=null!=f?f:null==l?void 0:l.loop)&&void 0!==n?n:null===t.getAttribute("loop")}}syncTargetWithState(t){const e=this.mediaMap.get(t);if(!e)return;const{muted:i,loop:a,volume:o,isPlaying:s}=e,r=this.service.state.matches("paused"),n=e.playbackRate*this.speedService.state.context.timer.speed;try{this.seekTo({time:this.getCurrentTime(),target:t,mediaState:e}),t.volume!==o&&(t.volume=o),t.muted=i,t.loop=a,t.playbackRate!==n&&(t.playbackRate=n),s&&!r?t.play():t.pause()}catch(t){this.warn(`Failed to replay media interactions: ${t.message||t}`)}}addMediaElements(t,e,i){if(!["AUDIO","VIDEO"].includes(t.nodeName))return;const a=t,o=i.getMeta(a);if(!o||!("attributes"in o))return;const s=this.service.state.matches("paused"),r=o.attributes;let n=!1;n=r.rr_mediaState?"played"===r.rr_mediaState:null!==a.getAttribute("autoplay"),n&&s&&a.pause();let l=1;"number"==typeof r.rr_mediaPlaybackRate&&(l=r.rr_mediaPlaybackRate);let c=!1;c="boolean"==typeof r.rr_mediaMuted?r.rr_mediaMuted:null!==a.getAttribute("muted");let d=!1;d="boolean"==typeof r.rr_mediaLoop?r.rr_mediaLoop:null!==a.getAttribute("loop");let p=1;"number"==typeof r.rr_mediaVolume&&(p=r.rr_mediaVolume);let u=0;"number"==typeof r.rr_mediaCurrentTime&&(u=r.rr_mediaCurrentTime),this.mediaMap.set(a,{isPlaying:n,currentTimeAtLastInteraction:u,lastInteractionTimeOffset:e,playbackRate:l,volume:p,muted:c,loop:d}),this.syncTargetWithState(a)}mediaMutation({target:t,timeOffset:e,mutation:i}){this.mediaMap.set(t,this.getMediaStateFromMutation({target:t,timeOffset:e,mutation:i})),this.syncTargetWithState(t)}isSupportedMediaElement(t){return["AUDIO","VIDEO"].includes(t.nodeName)}reset(){this.mediaMap.clear()}}},95768:(t,e,i)=>{function a(t=window,e=document){if("scrollBehavior"in e.documentElement.style&&!0!==t.__forceSmoothScrollPolyfill__)return;const i=t.HTMLElement||t.Element,a={scroll:t.scroll||t.scrollTo,scrollBy:t.scrollBy,elementScroll:i.prototype.scroll||n,scrollIntoView:i.prototype.scrollIntoView},o=t.performance&&t.performance.now?t.performance.now.bind(t.performance):Date.now;const s=(r=t.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(r)?1:0);var r;function n(t,e){this.scrollLeft=t,this.scrollTop=e}function l(t){if(null===t||"object"!=typeof t||void 0===t.behavior||"auto"===t.behavior||"instant"===t.behavior)return!0;if("object"==typeof t&&"smooth"===t.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+t.behavior+" is not a valid value for enumeration ScrollBehavior.")}function c(t,e){return"Y"===e?t.clientHeight+s<t.scrollHeight:"X"===e?t.clientWidth+s<t.scrollWidth:void 0}function d(e,i){const a=t.getComputedStyle(e,null)["overflow"+i];return"auto"===a||"scroll"===a}function p(t){const e=c(t,"Y")&&d(t,"Y"),i=c(t,"X")&&d(t,"X");return e||i}function u(e){let i,a,s,r=(o()-e.startTime)/468;var n;r=r>1?1:r,n=r,i=.5*(1-Math.cos(Math.PI*n)),a=e.startX+(e.x-e.startX)*i,s=e.startY+(e.y-e.startY)*i,e.method.call(e.scrollable,a,s),a===e.x&&s===e.y||t.requestAnimationFrame(u.bind(t,e))}function m(i,s,r){let l,c,d,p;const m=o();i===e.body?(l=t,c=t.scrollX||t.pageXOffset,d=t.scrollY||t.pageYOffset,p=a.scroll):(l=i,c=i.scrollLeft,d=i.scrollTop,p=n),u({scrollable:l,method:p,startTime:m,startX:c,startY:d,x:s,y:r})}t.scroll=t.scrollTo=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?m.call(t,e.body,void 0!==arguments[0].left?~~arguments[0].left:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:t.scrollY||t.pageYOffset):a.scroll.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:t.scrollX||t.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:t.scrollY||t.pageYOffset))},t.scrollBy=function(){void 0!==arguments[0]&&(l(arguments[0])?a.scrollBy.call(t,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):m.call(t,e.body,~~arguments[0].left+(t.scrollX||t.pageXOffset),~~arguments[0].top+(t.scrollY||t.pageYOffset)))},i.prototype.scroll=i.prototype.scrollTo=function(){if(void 0===arguments[0])return;if(!0===l(arguments[0])){if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value could not be converted");return void a.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}const t=arguments[0].left,e=arguments[0].top;m.call(this,this,void 0===t?this.scrollLeft:~~t,void 0===e?this.scrollTop:~~e)},i.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):a.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},i.prototype.scrollIntoView=function(){if(!0===l(arguments[0]))return void a.scrollIntoView.call(this,void 0===arguments[0]||arguments[0]);const i=function(t){for(;t!==e.body&&!1===p(t);)t=t.parentNode||t.host;return t}(this),o=i.getBoundingClientRect(),s=this.getBoundingClientRect();i!==e.body?(m.call(this,i,i.scrollLeft+s.left-o.left,i.scrollTop+s.top-o.top),"fixed"!==t.getComputedStyle(i).position&&t.scrollBy({left:o.left,top:o.top,behavior:"smooth"})):t.scrollBy({left:s.left,top:s.top,behavior:"smooth"})}}i.d(e,{M:()=>a})},49173:(t,e,i)=>{i.d(e,{A:()=>a});const a=t=>[`.${t} { background: currentColor }`,"noscript { display: none !important; }"]},6662:(t,e,i)=>{i.d(e,{M:()=>o,V:()=>s});var a=i(32775);class o{constructor(t=[],e){this.timeOffset=0,this.raf=null,this.actions=t,this.speed=e.speed}addAction(t){const e=!0===this.raf;if(!this.actions.length||this.actions[this.actions.length-1].delay<=t.delay)this.actions.push(t);else{const e=this.findActionIndex(t);this.actions.splice(e,0,t)}e&&(this.raf=requestAnimationFrame(this.rafCheck.bind(this)))}start(){this.timeOffset=0,this.lastTimestamp=performance.now(),this.raf=requestAnimationFrame(this.rafCheck.bind(this))}rafCheck(){const t=performance.now();for(this.timeOffset+=(t-this.lastTimestamp)*this.speed,this.lastTimestamp=t;this.actions.length;){const t=this.actions[0];if(!(this.timeOffset>=t.delay))break;this.actions.shift(),t.doAction()}this.actions.length>0?this.raf=requestAnimationFrame(this.rafCheck.bind(this)):this.raf=!0}clear(){this.raf&&(!0!==this.raf&&cancelAnimationFrame(this.raf),this.raf=null),this.actions.length=0}setSpeed(t){this.speed=t}isActive(){return null!==this.raf}findActionIndex(t){let e=0,i=this.actions.length-1;for(;e<=i;){const a=Math.floor((e+i)/2);if(this.actions[a].delay<t.delay)e=a+1;else{if(!(this.actions[a].delay>t.delay))return a+1;i=a-1}}return e}}function s(t,e){if(t.type===a.Bx.IncrementalSnapshot&&t.data.source===a.Cj.MouseMove&&t.data.positions&&t.data.positions.length){const i=t.data.positions[0].timeOffset,a=t.timestamp+i;return t.delay=a-e,a-e}return t.delay=t.timestamp-e,t.delay}}}]);
//# sourceMappingURL=https://www.scribd.com/webpack/monolith/3627.671479b32ff3631d60d7.js.map