(self.webpackChunk_scribd_app_monolith=self.webpackChunk_scribd_app_monolith||[]).push([[6240],{99454:(e,t,r)=>{"use strict";var o=r(32720),a=r.n(o),n=r(60569),s=r(55572);class i extends n.A{constructor(e){super(e),this.enclosing_class("auto__recommenders_modules_browse_dropdown")}render_menu(){const e=this.props.content_types.map(this.render_menu_item);return a().createElement("ul",{className:"menu_list"},e)}render_menu_item(e,t){return a().createElement("li",{className:"menu_item",key:t},a().createElement(s.QW,{className:"content_buttons",href:e.url,text:e.title,dataProps:e.data_props}))}render_button(){return a().createElement(s.QW,{"data-e2e":"content_dropdown",className:"label_btn",data_props:this.props.data_props},a().createElement("span",{"data-e2e":"label_title",key:"label_title",className:"label_title"},this.props.label),a().createElement("span",{key:"icon_down_arrow",className:"icon icon-ic_dropdown_1px"}))}render_content(){const{content_types:e}=this.props;return 1===e.length?a().createElement("span",{className:"label_no_options"},a().createElement("span",{className:"label_title"},e[0].title)):a().createElement(s.y$,{autoClose:this.props.autoclose,button:this.render_button(),forcePosition:"bottom",menu:this.render_menu()})}}i.defaultProps={content_types:[]},Scribd.addComponent("Recommenders.Modules.BrowseDropdown",i)},25740:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var o=r(280);const a=r.n(o)()({loader:()=>Promise.all([r.e(1308),r.e(4583),r.e(7827),r.e(1464),r.e(4828),r.e(8565),r.e(8267),r.e(8699),r.e(3896),r.e(3408),r.e(8093),r.e(4401),r.e(4563),r.e(7470),r.e(8315),r.e(3627),r.e(5327),r.e(3246),r.e(9783),r.e(7438),r.e(5791),r.e(6248),r.e(253),r.e(2891),r.e(4627),r.e(1119),r.e(7758),r.e(2807),r.e(2658),r.e(6479),r.e(3928),r.e(2833),r.e(6969),r.e(5334),r.e(8404),r.e(9156),r.e(7785),r.e(3287),r.e(3299),r.e(4117),r.e(9086),r.e(6954),r.e(9446),r.e(426)]).then(r.bind(r,50426)),loading:()=>null});Scribd.addComponent("AccountCreation",a);const n=a},8022:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});const o={addDocument:function(e,t){return $.ajax({url:`/user-document-collections/${e}/add-document`,type:"post",dataType:"json",data:{document_id:t}})},collectionsContainingDocument:function(e){return $.ajax({url:`/user-document-collections/collections-containing-document/${e}`,type:"get",dataType:"json"})},createCollection:function(e,t,r=null){return $.ajax({url:"/user-document-collections/",type:"post",dataType:"json",data:{name:e,privacy_type:t,document_id:r}})},deleteCollection:function(e){return $.ajax({url:`/user-document-collections/${e}`,type:"delete",dataType:"json"})},removeDocument:function(e,t){return $.ajax({url:`/user-document-collections/${e}/remove-document`,type:"delete",dataType:"json",data:{document_id:t}})},updateCollection:function(e,t,r,o){return $.ajax({url:`/user-document-collections/${e}`,type:"post",dataType:"json",data:{name:t,privacy_type:r,description:o}})}}},77341:(e,t,r)=>{"use strict";r.d(t,{k:()=>l.k,q:()=>_});var o=r(55425),a=r(11865),n=(r(76545),r(44026)),s=r(70032),i=r(56382),l=r(20901),d=r(32720);const _={register_download_attempt:(e,t,r,o)=>($.ajax(Scribd.download_document.register_download_attempt_path,{type:"post",data:{doc_id:o.id,next_screen:r,source:e}}),"search"===e?(0,a.trackEvent)("analytics.search.document.download",{title:o.title}):(0,a.trackEvent)("analytics.sidebar.document.download",{title:o.title})),download_attempt(e,t,r,n){const s="read"===t?"toolbar_download":void 0,l=!(Scribd.logged_in||null!=Scribd._anonymous_current_user),d=encodeURIComponent(JSON.stringify({context:n.signup_context,page:t,action:s,platform:"web",logged_in:!l}));if(!n.show_archive_paywall)return l?(this.register_download_attempt(t,s,"login_lightbox",n),(new a.Auth0FeatureFlag).inTest()&&Scribd.download_document.oauthSignupUrl?void(0,a.redirect)(Scribd.download_document.oauthSignupUrl):(0,i.A)({loginParam:{source:"download",context:Scribd.current_ca,doc_signup_context:(null!=Scribd.current_doc?Scribd.current_doc.signup_context:void 0)||n.signup_context,document_id:(null!=Scribd.current_doc?Scribd.current_doc.id:void 0)||n.id},nextUrl:n.url+"#download",trackingData:{loc:r},userAction:o.ACCOUNT_CREATION.USER_ACTIONS.DOWNLOAD})):(this.register_download_attempt(t,s,"download_lightbox",n),e(n));{const e=`doc=${n.id}&metadata=${d}`;if(l)this.register_download_attempt(t,s,"login_lightbox",n),(new a.Auth0FeatureFlag).inTest()&&Scribd.download_document.oauthSignupUrl?(0,a.redirect)(Scribd.download_document.oauthSignupUrl):(0,i.A)({trackingData:{loc:r},nextUrl:`/archive/plans?${e}`,userAction:o.ACCOUNT_CREATION.USER_ACTIONS.DOWNLOAD});else{const r=()=>(this.register_download_attempt(t,s,"paywall",n),window.location=`/archive/plans?${e}`);Scribd.FacebookSession.attempt_facebook_upgrade(r)}}},download_dialog_lightbox:(e,t)=>(null==t&&(t=!0),$.ajax({type:"POST",url:Scribd.download_document.download_dialog_path,data:$.extend({},(0,l.k)(e),{show_after_download_suggestions:t}),success:e=>_.render_lightbox(e.props,e.show_receipt_lightbox)})),download(e,t,r,o){const a=o||this.download_dialog_lightbox;return(null!=Scribd.current_doc?Scribd.current_doc.id:void 0)===e?_.download_attempt(a,t,r,Scribd.current_doc):$.ajax(Scribd.download_document.request_document_for_download_path,{type:"post",data:{id:e},success:e=>_.download_attempt(a,t,r,e)})},render_lightbox(e,t){const r=t?d.createElement(s.A,e):d.createElement(n.A,e);return Scribd.Lightbox.open_react("document_download_lb",r)}}},51253:(e,t,r)=>{"use strict";var o,a,n,s,i=r(60569),l=r(12641),d=r(32720);class _ extends i.A{constructor(e){super(e),this.enclosing_class("auto__shared_promos_app_download_promo"),this.state={dismissed:!1,input_value:"",loading:!1,error:"",content_height:""}}error(e){return null==this.errors&&(this.errors={generic:I18n.t("shared.app_download_promo.module.an_error_occurred_please_try_again"),input:I18n.t("shared.app_download_promo.module.please_enter_a_valid_phone_number"),email:I18n.t("shared.app_download_promo.module.please_enter_a_valid_email"),phone:I18n.t("shared.app_download_promo.module.please_enter_a_valid_phone_number_"),twilio:I18n.t("shared.app_download_promo.module.an_error_occurred_please_try_an")}),this.props.twilio_enabled?this.errors[e]:["input","email","phone"].includes(e)?this.errors.email:"twilio"===e?this.errors.generic:void 0}component_classes(){return classNames(this.props.extra_classes,{dismissed:this.state.dismissed})}componentDidMount(){if(!this.props.lightbox&&($(this.container).one("inview",this.track_view),this.content_inner)){const e=this.container.offsetHeight/2-this.content_inner.offsetHeight/2;this.setState({content_height:`${e}px`})}}handle_close_promo(){return $(this.container).trigger("close_promo_wrapper"),this.setState({dismissed:!0}),this.props.promo_id&&$.post(this.props.close_promo_url,{id:this.props.promo_id}),this.track("click",{item:"close banner"})}handle_key_down(e){if(this.typing_email_address()&&("Tab"===e.key&&e.preventDefault(),["Tab","Enter","ArrowRight"].includes(e.key)))return this.setState({input_value:this.props.email_address})}handle_key_up(e){"Enter"===e.key&&this.submit()}handle_change(e){this.setState({input_value:e.target.value})}handle_response(e,t){let r="server_error";"phone"===t.type?r="text_sent":"email"===t.type&&(r="email_sent"),t.success?this.flash(e,"success"):this.setState({error:e}),this.track(r,{success:t.success,input_text:this.state.input_value},"response")}track_app_store(){this.track("click",{item:"app store"})}track_play_store(){this.track("click",{item:"google play store"})}track_view(e,t){t&&(this.track("view"),$(this.container).off("inview"))}track(e,t={},r=null){const o=this.props.doc_id?{doc_id:this.props.doc_id}:{},a={...t,...this.props.lightbox?{page:this.props.track_page}:{},...o};r||(r=this.props.lightbox?"lightbox":"banner"),this.track_rats(`download_app_promo:${r}:${e}`,a)}client_error(e){this.focus_input_and_mark_invalid(),this.setState({error:e}),this.track("click",{item:"send link",input_valid:!1,input_text:this.state.input_value})}success(e){this.flash(e,"success")}flash(e,t){this.props.lightbox?Scribd.Flasher.toast(t,e,{container:$(`#${this.props.lightbox_id}`)[0]}):Scribd.Flasher.toast(t,e)}focus_input_and_mark_invalid(){$(this.container).find(".email_phone_input").attr("aria-invalid",!0).focus()}submit(){if(this.state.loading)return;let e=this.state.input_value.replace(_.REGEX.spaces,"");this.props.twilio_enabled&&e.match(_.REGEX.type.phone)?(e=e.replace(_.REGEX.non_digits,""),e.match(_.REGEX.valid.phone)?this.send(e):this.client_error(this.error("phone"))):e.match(_.REGEX.type.email)?e.match(_.REGEX.valid.email)?this.send(e):this.client_error(this.error("email")):this.client_error(this.error("input"))}send(e){this.track("click",{item:"send link",input_valid:!0,input_text:this.state.input_value}),this.setState({loading:!0}),this.trigger("scribd:app_download:send_link"),$.post(this.props.app_download_link,{phone_or_email:e}).done(this.handle_send_complete).fail(this.handle_post_failure)}handle_send_complete(e){e.success?(this.handle_response(I18n.t("shared.app_download_promo.module.link_sent_please_check_your_mobile"),e),this.props.lightbox&&Scribd.AppDownloadPromoLightbox.close()):this.handle_response(this.errors[e.error]||this.errors.generic,e),this.setState({loading:!1})}handle_post_failure(){this.handle_response(this.error("generic"),{success:!1,type:"server"}),this.setState({loading:!1})}typing_email_address(){return!!this.props.email_address&&(this.state.input_value.length&&0===this.props.email_address.indexOf(this.state.input_value))}placeholder(){return this.props.twilio_enabled?I18n.t("shared.app_download_promo.module.phone_number_or_email"):I18n.t("shared.app_download_promo.module.enter_your_email")}render_store_link(e,t,r){return[d.createElement("a",{key:"store-link",href:t,target:"_blank",onClick:r},e,d.createElement("span",{className:"visually_hidden"},I18n.t("shared.app_download_promo.module.opens_new_window"))),d.createElement("span",{key:"store-link-text",className:"app_store_link_just_text"},e)]}render_header(){return d.createElement("div",{className:"header"},d.createElement("h2",{id:"download_promo_content_header"},I18n.t("shared.app_download_promo.module.read_anytime_everywhere_you_go")),d.createElement("p",null,d.createElement("span",null,I18n.t("shared.app_download_promo.module.scribd_is_available_on_the")," "),this.render_store_link(I18n.t("shared.app_download_promo.module.app_store"),this.props.iosStoreUrl,this.track_app_store),d.createElement("span",null," ",I18n.t("shared.app_download_promo.module.and")," "),this.render_store_link(I18n.t("shared.app_download_promo.module.google_play_store"),this.props.androidStoreUrl,this.track_play_store)))}render_form(){let e=null,t=null;return this.typing_email_address()&&(e=d.createElement("input",{className:"email_suggestion",placeholder:this.props.email_address,type:"text",defaultValue:"","aria-label":this.placeholder(),"aria-required":"true","aria-invalid":!1})),this.state.error&&(t=d.createElement("span",{className:"error_msg"},d.createElement("span",{className:"icon-ic_warn","aria-hidden":"true"}),d.createElement("span",{className:"visually_hidden"},"Error"),d.createElement("span",null,this.state.error))),d.createElement("div",{className:"form"},d.createElement("label",{className:classNames("input_container",{suggesting:this.typing_email_address(),has_error:this.state.error}),htmlFor:"email_phone_input"},d.createElement("div",{className:"label"},I18n.t("shared.app_download_promo.module.enter_your_phone_number_or_email")),e,d.createElement("input",{type:"text",placeholder:this.placeholder(),className:"email_phone_input",id:"email_phone_input",value:this.state.input_value,"aria-label":this.placeholder(),"aria-required":"true","aria-invalid":!1,onKeyDown:this.handle_key_down,onKeyUp:this.handle_key_up,onChange:this.handle_change}),d.createElement(l.Ay,{className:classNames("send_link_btn",{loading:this.state.loading}),disable:this.state.loading,onClick:this.submit},I18n.t("shared.app_download_promo.module.send_link"))),t)}render_app_download_badges(){return d.createElement("div",{className:"app_download_badges_container"},d.createElement("a",{className:"android_store_download_badge_link left",href:this.props.androidStoreUrl},d.createElement("img",{className:"android_store_badge",src:this.props.android_app_badge_img_src,alt:I18n.t("shared.app_download_promo.module.android_app_store_badge")})),d.createElement("a",{className:"ios_store_download_badge_link",href:this.props.iosStoreUrl},d.createElement("img",{className:"ios_store_badge",src:this.props.ios_app_badge_img_src,alt:I18n.t("shared.app_download_promo.module.ios_app_store_badge")})))}render_content(){if(this.state.dismissed)return null;let e=null,t=null,r={};const o=d.createElement("div",{className:"devices_container"},d.createElement("div",{className:"devices"}));return this.props.lightbox?e=o:(t=o,this.state.content_height&&(r.top=this.state.content_height)),[d.createElement("button",{key:"close_promo","aria-label":I18n.t("shared.app_download_promo.module.hide_promo_content"),className:"close_promo_btn",onClick:this.handle_close_promo,type:"button"},d.createElement("span",{className:"icon-ic_close","aria-hidden":"true"})),d.createElement("section",{key:"promo_content",className:"app_download_promo_content","aria-labelledby":"download_promo_content_header"},e,d.createElement("div",{className:"content_inner",ref:e=>{this.content_inner=e},style:r},d.createElement("div",{className:"header_and_form_container"},this.render_header(),this.render_form(),this.render_app_download_badges())),t)]}}o=_,n={valid:{email:/^([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})$/i,phone:/^\+?\d{10,15}$/},type:{email:/@/,phone:/^\+?[\d\-_\(\).]*\d[\d\-_\(\).]*$/},spaces:/\s/g,non_digits:/[^\d+]/g},(a="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a="REGEX","string"))?s:s+"")in o?Object.defineProperty(o,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[a]=n,Scribd.addComponent("Shared.Promos.AppDownloadPromo.Module",_)},12641:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>u,QW:()=>h});var o,a,n,s,i=r(22355),l=r.n(i),d=r(32720),_=r.n(d),c=r(60569);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},p.apply(this,arguments)}class u extends c.A{constructor(e){super(e),this.enclosing_class("auto__shared_react_common_button")}render(){const e=this.get_tag(),t=l()(this.props.className,"flat_btn",this.get_component_classname(),{disabled:this.props.disabled||this.props.loading,loading:this.props.loading});return _().createElement(e,p({className:t,title:this.props.title,onClick:this.props.onClick,onKeyPress:this.props.onKeyPress,disabled:this.props.disabled,"aria-disabled":this.props.disabled||this.props.loading?"true":null,role:this.props.role,type:"button"===e?this.props.type:null,target:this.props.target,"data-tooltip":this.props["data-tooltip"]||null,href:this.props.href,id:this.props.id},this.get_data_props(),this.get_aria_props(),{ref:this.props.node_ref}),this.render_content(),this.render_spinner(),this.props.text,this.render_visually_hidden_text())}render_visually_hidden_text(){if(this.props.visually_hidden_text)return _().createElement("span",{className:"visually_hidden"},this.props.visually_hidden_text)}render_spinner(){if(!this.props.className||!this.props.className.match(/text_btn/))return _().createElement("div",{key:"spinner","aria-hidden":"true",className:"scribd_spinner","data-size":30})}render_content(){let e=_().Children.toArray(this.props.children)||[];return this.props.is_facebook_button||/\bfacebook\b/.test(this.props.className)?e.unshift(this.render_facebook_icon()):(this.props.is_google_button||/\bgoogle\b/.test(this.props.className))&&e.unshift(this.render_google_icon()),e}render_facebook_icon(){return _().createElement("span",{key:"facebook_icon","aria-hidden":"true",className:"icon icon-ic_facebook"})}render_google_icon(){return _().createElement("span",{key:"google_icon","aria-hidden":"true",className:"icon icon-google"})}get_tag(){let e="button";return void 0===this.props.href&&void 0===this.props.target||(e="a",void 0!==this.props.disabled&&console.error("You can't disable anchors")),e}get_data_props(){let e={};return this.props.data_props&&Object.keys(this.props.data_props).forEach((t=>{const r=this.props.data_props[t];e[`data-${t}`]=r})),e}get_aria_props(){let e={};return this.props.aria_props&&Object.keys(this.props.aria_props).forEach((t=>{const r=this.props.aria_props[t];e[`aria-${t}`]=r})),e}}function h(e){const t=Object.assign({},e);return t.className=l()(e.className,"text_btn"),_().createElement(u,t)}o=u,n={type:"button",is_facebook_button:!1,is_google_button:!1,data_props:{},aria_props:{},loading:!1},(a="symbol"==typeof(s=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(a="defaultProps","string"))?s:s+"")in o?Object.defineProperty(o,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):o[a]=n},21981:(e,t,r)=>{var o,a,n;r(76545),o=r(56382).A,a=r(77341).k,n=r(11865).trackEvent,Scribd.BuyDocManager=function(){function e(){}return e.for_current_doc=function(e,t,r){var o,a,n;return null==e&&(e=null),null==t&&(t=null),null==r&&(r=null),this.buy_manager||(o=Scribd.current_doc,this.buy_manager=new Scribd.BuyDocManager,n=this,a=function(){var e,t,r;return t=I18n.t("shared.buy_doc_manager.you_re_reading_a_preview_unlock_full"),e=I18n.t("shared.buy_doc_manager.download_with_free_trial"),r=I18n.t("shared.buy_doc_manager.unlock_full_access_with_a_free"),n.buy_manager.setup_buy_buttons(e),n.buy_manager.setup_missing_page_title(t,r)},"loading"!==o.readyState?a():o.addEventListener("DOMContentLoaded",a)),this.buy_manager},e.prototype.setup_buy_buttons=function(e){return Scribd.current_doc.show_archive_paywall?$(".missing_page_buy_link .btn_inner").text(e):$(".missing_page_buy_button").hide(),this.setup_buy_buttons_callbacks()},e.prototype.setup_buy_buttons_callbacks=function(){var e;return e=Scribd.current_doc.is_pmp?this.get_premium_callback("missing_page_signup"):Scribd.current_doc.view_restricted?this.get_archive_callback("missing_page_signup"):void 0,$(document).dispatch("click",{missing_page_buy_button:function(t,r){var o;return(o=t.closest(".page_missing_explanation").length?"doc:read_full_version_link:click":t.closest(".page_blur_promo").length?"doc:free_preview_blur_button:click":void 0)&&n(o,{doc_id:Scribd.current_doc.id}),e(r)}})},e.prototype.setup_missing_page_title=function(e,t){if(Scribd.current_doc.is_pmp||Scribd.current_doc.can_purchase||Scribd.current_doc.show_archive_paywall)return $(".missing_page_number_title").text(e)},e.prototype.get_subscription_callback=function(e,t){return function(){var r,n,s;return r={context:Scribd.current_doc.signup_context,page:"read",action:e,platform:"web",logged_in:!!Scribd.logged_in},r=encodeURIComponent(JSON.stringify(r)),n="doc="+Scribd.current_doc.id+"&metadata="+r,s=function(){return window.location.href=t+"?"+n},Scribd.logged_in?Scribd.FacebookSession.attempt_facebook_upgrade(s):$.ajax({url:Scribd.archive_login_url+"?"+n,type:"post",data:a(Scribd.current_doc),dataType:"json"}).done(o),!1}},e.prototype.get_premium_callback=function(e){return this.get_subscription_callback(e,"/archive/pmp_checkout")},e.prototype.get_archive_callback=function(e){return this.get_subscription_callback(e,"/archive/plans")},e}()}}]);
//# sourceMappingURL=https://www.scribd.com/webpack/monolith/embeds_new~44cc5afb.d158c8fe3691996696fc.js.map