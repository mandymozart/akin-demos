"use strict";(self.webpackChunk_scribd_app_monolith=self.webpackChunk_scribd_app_monolith||[]).push([[8946],{48946:(n,o,e)=>{e.d(o,{Qr:()=>h,Sb:()=>A,_7:()=>D,iP:()=>p});var a=e(69740),t=e(11865),i=e(39850),c=e(26445),r=()=>"undefined"==typeof window?null:window.Osano?window.Osano:null,l=(n,o)=>{var e,a;null===(e=r())||void 0===e||null===(a=e.cm)||void 0===a||a.addEventListener(n,o)},u=(n,o)=>{var e,a;null===(e=r())||void 0===e||null===(a=e.cm)||void 0===a||a.removeEventListener(n,o)},s={OPT_IN_WITH_SUBCHOICES:"opt-in-with-subchoices",OPT_IN_WITHOUT_SUBCHOICES:"opt-in-without-subchoices",OPT_OUT:"opt-out"},I={ACTION:{CONSENT_DIALOG_CLICK:"consent_dialog_click",CONSENT_DIALOG_VISIBLE:"consent_dialog_visible",DISPLAY_CONSENT_DRAWER:"display_consent_drawer"},NAME:"feature"},d="permissive",O="production",v={INITIALIZED:"osano-cm-initialized",CONSENT_SAVED:"osano-cm-consent-saved",UI_CHANGED:"osano-cm-ui-changed"},A={ANALYTICS:"ANALYTICS",MARKETING:"MARKETING",PERSONALIZATION:"PERSONALIZATION",ESSENTIAL:"ESSENTIAL",OPT_OUT:"OPT-OUT",STORAGE:"STORAGE"},T={DIALOG:"dialog",HIDE:"hide",SHOW:"show"},E="ACCEPT",p=()=>{var n,o,e=null===(n=r())||void 0===n||null===(o=n.cm)||void 0===o?void 0:o.mode;return e===d||e===O},N={DIALOG:"customOptInDialog",TITLE:"customOptInTitle"},_=()=>document.querySelector(".osano-cm-dialog");var S=["action","brand","page"],m=n=>{var o,{action:e,brand:t,page:l}=n,u=(0,i.A)(n,S);(0,c.GV)(I.NAME,(0,a.A)({action:e,brand:t,page:l,version:"v".concat(null===(o=r())||void 0===o?void 0:o.cm.cmpVersion)},u))};function C(n){var{isOptIn:o,hasSubchoices:e}=n;return o&&e?s.OPT_IN_WITH_SUBCHOICES:o?s.OPT_IN_WITHOUT_SUBCHOICES:s.OPT_OUT}function L(){var n=_();if(!n)return{};var o=Boolean(n.querySelector(".osano-cm-toggle")),e=Boolean(n.querySelector(".osano-cm-accept,.osano-cm-accept-all")),a=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return null==n?void 0:n.classList.contains(N.DIALOG)}(n);return{customized:a,dismissible:!a&&Boolean(n.querySelector(".osano-cm-close")),type:C({isOptIn:e,hasSubchoices:o})}}function f(n){return n===E}function g(n){var{brand:o,page:e}=n;(0,t.trackEvent)("cmp:collection:prompt",(0,a.A)((0,a.A)({},L()),{},{page:e})),m({action:I.ACTION.CONSENT_DIALOG_VISIBLE,brand:o,page:e})}function b(){var n;return(null===(n=_())||void 0===n?void 0:n.querySelectorAll(".osano-cm-button,.osano-cm-close"))||[]}function D(n){var{brand:o,page:e}=n;function i(n){!function(n,o){var{brand:e,page:i}=o,c=r().cm.getConsent(),l=function(n){var o=n.className;for(var e of["accept","close","deny","manage","save"])if(o.includes(e))return e;return null}(n.currentTarget);(0,t.trackEvent)("cmp:collection:submit",(0,a.A)((0,a.A)({},L()),{},{button:l,page:i,storage:f(c[A.STORAGE]),targeted_ads:f(c[A.MARKETING]),personalization:f(c[A.PERSONALIZATION]),analytics:f(c[A.ANALYTICS])})),m({action:I.ACTION.CONSENT_DIALOG_CLICK,brand:e,button:l,page:i})}(n,{brand:o,page:e})}function c(){var n,a,t;null!==(n=r())&&void 0!==n&&null!==(a=n.cm)&&void 0!==a&&a.dialogOpen&&g({brand:o,page:e}),t=i,b().forEach((n=>{n.addEventListener("click",t)}))}function s(n,a){n===T.DIALOG&&a===T.SHOW&&g({brand:o,page:e})}return l(v.INITIALIZED,c),l(v.UI_CHANGED,s),function(){var n;u(v.INITIALIZED,c),u(v.UI_CHANGED,s),n=i,b().forEach((o=>{o.removeEventListener("click",n)}))}}var h=(n,o)=>{var e,a;if("undefined"==typeof window)return null;n.preventDefault(),null===(e=r())||void 0===e||e.cm.showDrawer(),!0===(null===(a=r())||void 0===a?void 0:a.cm.drawerOpen)&&m({action:I.ACTION.DISPLAY_CONSENT_DRAWER,brand:o})}}}]);
//# sourceMappingURL=https://www.scribd.com/webpack/monolith/8946.27bcad0a28983283110e.js.map