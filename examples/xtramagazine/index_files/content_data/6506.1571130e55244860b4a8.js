(self.webpackChunk_scribd_app_monolith=self.webpackChunk_scribd_app_monolith||[]).push([[6506],{1848:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var r=s(11373),i=s(32720),a=s.n(i),n=s(83128),o=s(77341),_=s(60569),l=s(12641);class d extends _.A{constructor(e){super(e),this.enclosing_class("auto__shared_react_download_button"),this.state={downloadable:!0,isMobile:!1}}component_classes(){return"download_button_container"}componentDidMount(){this.setState({isMobile:Scribd.is_mobile})}handle_click(e){"function"==typeof this.props.on_click&&this.props.on_click(e,this.props.document_id),this.props.dunning_lock_restrict_doc_download?$.get(`${this.props.dunning_lock_downloadable_status_url}?document_id=${this.props.document_id}`).then((e=>{e&&!e.downloadable?(0,n.h)({payment_fix_url:this.props.payment_fix_url}):this.initiate_download()})).fail((()=>{Scribd.Flasher.toast("error",r.default.t("shared.react.download_button.unable_to_download_please_try_again"))})):this.initiate_download()}initiate_download(){Scribd.Lightbox.show_loading(),o.q.download(this.props.document_id,"search","results",(e=>{e.downloadable?o.q.download_dialog_lightbox(e,this.props.show_after_download_suggestions):(Scribd.Lightbox.close(),Scribd.Flasher.toast("error",r.default.t("shared.react.download_button.this_document_is_not_available_for")),this.setState({downloadable:!1}))}))}render_content(){if(!this.state.downloadable)return;const e=this.state.isMobile?null:r.default.t("shared.react.download_button.download");return a().createElement(l.Ay,{type:"button","data-tooltip":e,className:"download_button text_btn",onClick:this.handle_click},a().createElement("span",{className:"icon icon-ic_download_with_line","aria-hidden":"true"}),a().createElement("span",{className:"visually_hidden"},`${r.default.t("shared.react.download_button.download")} ${this.props.document_title}`))}}},9575:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var r,i,a,n,o=s(60569),_=s(22355),l=s.n(_),d=s(32720),c=s.n(d);class u extends o.A{constructor(e){super(e),this.enclosing_class("auto__shared_react_forms_input_group")}render_content(){const{children:e,legend:t,horizontal:s}=this.props;return c().createElement("fieldset",{className:l()("input_group",{horizontal:s})},t?c().createElement("legend",null,t):null,c().Children.map(e,((e,t)=>c().cloneElement(e,{key:t}))))}}r=u,a={options:[],legend:"",horizontal:!1},(i="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i="defaultProps","string"))?n:n+"")in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a},19071:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(11865);function i(e,t,s,i,a=["unknown"]){return(0,r.trackRats)(`${e}:available_soon:view`,{document_id:t,document_type:s,user_id:i,restricted_credit_types:a})}},29288:(e,t,s)=>{"use strict";s.d(t,{A:()=>k});var r,i,a,n,o=s(22355),_=s.n(o),l=s(32720),d=s.n(l),c=s(27543),u=s(26880),p=s(60569),h=s(99122),m=s(4238),b=s(75e3),v=s(60219),g=s(83897),f=s(46733),y=s.n(f),w=s(44357),E=s(23589);class k extends p.A{constructor(e){super(e),this.enclosing_class("auto__shared_react_lists_list_items")}static is_narrow(){return $(window).width()<951}componentDidMount(){this.setup_tracking(this.props.rec_tracking_json)}componentDidUpdate(e){this.setup_tracking(e.rec_tracking_json)}component_classes(){const{display_type:e,content_type:t,use_in_carousel:s}=this.props;return _()(e,"list_items",{in_carousel:s,not_in_carousel:!s,[`content_type_${t}`]:!!t})}setup_tracking(e){!this.props.use_in_carousel&&this.props.setup_tracking&&e&&(this.recommendationTracking=new(y().Module)(this.container,{widget_name:"list_items",compilation_id:e.compilation_id,module_id:e.uuid,on_tracking:e=>{this.tracking=e,this.props.handle_tracking&&this.props.handle_tracking(e)},on_in_view:e=>{this.setup_items_tracking(e)}}))}setup_items_tracking(e){return $(this.container).find(".object_cell:not(.visibility_tracked)").on("inview",(t=>{const s=$(t.currentTarget);if(!s.hasClass("visibility_tracked"))return y().track_obj_view(e.view_id,s.data("track_uuid"),e.widget_name),s.addClass("visibility_tracked")}))}get_aria_label(){if(this.props.aria_label)return this.props.aria_label}get_aria_labelled_by(){if(!1!==this.props.aria_labelled_by)return this.props.aria_labelled_by?this.props.aria_labelled_by:this.uid("list_labelledby")}no_controls(e){return this.props.no_controls?this.props.no_controls:e.flag&&"not_available"===e.flag.type}render_controls(e,t){return"function"==typeof this.props.controls?this.props.controls(e,t):null}get_base_props(e,t){const s=this.props.rec_tracking_json;return{brand:this.props.brand,compilation_id:s?s.compilation_id:null,controls:this.render_controls(e,t),display_type:this.props.display_type,hide_hover_cta:this.props.hide_hover_cta||!1,item:e,key:e.id,module_id:s?s.uuid:null,narrow:this.props.narrow||!1,no_clamp:this.props.no_clamp,no_controls:this.no_controls(e),oauthSignupUrl:this.props.oauthSignupUrl,page:this.props.page,paused:this.props.paused,payment_fix_url:this.props.payment_fix_url,plans_enabled:this.props.plans_enabled,pre_rendered:this.props.pre_rendered,rec_uuid:s&&s.recs?s.recs[t]:"",undo_label:this.props.undo_label,undo_xhr:this.props.undo_xhr,use_in_carousel:this.props.use_in_carousel,uploader_avatar_url:this.props.uploader_avatar_url,user_id:this.props.user_id}}renderCell(e,t){switch(e){case"article":return d().createElement(c.A,t);case"author":return d().createElement(u.A,t);case"publication_issue":return d().createElement(b.A,t);case"audiobook":case"book":case"sheet_music":case"sheet_music_chapter":return d().createElement(h.A,t);case"summary_canonical":return d().createElement(w.A,t);case"podcast_episode":return d().createElement(v.A,t);case"podcast":return d().createElement(g.A,t);default:return d().createElement(m.A,t)}}render_cells(){const e=this.props.items_json||this.props.documents;return E.map(e,((e,t)=>{const s=this.get_base_props(e,t);return this.renderCell(e.type,s,t)}))}render_content(){return d().createElement("ul",{"aria-labelledby":this.props.aria_labelled_by?this.get_aria_labelled_by():"","aria-label":this.get_aria_label(),className:this.props.extra_classes,id:this.props.list_id,key:"list_items"},this.render_cells())}}r=k,a={brand:null,content_type:"",display_type:"grid",use_in_carousel:!1,setup_tracking:!0,page:"",plans_enabled:!1,pre_rendered:!1,uploader_avatar_url:"/images/document_cells/metadata_cards/avatar.png",user_id:null},(i="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i="defaultProps","string"))?n:n+"")in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,Scribd.addComponent("Shared.React.Lists.ListItems",k)},83754:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var r=s(32720),i=s.n(r),a=s(55572),n=s(60569),o=s(9575),_=s(56852);class l extends n.A{constructor(e){super(e),this.enclosing_class("auto__shared_react_lists_modals_delete_item_in_list"),this.state={selected:!1}}componentDidMount(){return $(this.container).on("Scribd:lightbox:closed",(()=>{this.handle_loading(!1)}))}handle_loading(e){"function"==typeof this.props.on_loading&&this.props.on_loading(e)}handle_checked(e){e.persist(),this.setState({selected:e.target.checked},(()=>{new CookieJar({expires:""}).put("library:confirm_delete_item_in_list",!e.target.checked)}))}handle_cancel_button_click(e){e.preventDefault(),Scribd.StackedLightbox.close(),this.handle_loading(!1)}handle_confirm_click(e){e.preventDefault(),Scribd.StackedLightbox.close(),"function"==typeof this.props.on_confirm&&this.props.on_confirm(),this.handle_loading(!1)}render_content(){return i().createElement(_.A,{stacked:!0,title:I18n.t("shared.react.modals.delete_item_in_list.this_title_is_also_in_a")},this.render_note(),this.render_form())}render_note(){return i().createElement("div",{className:"note"},I18n.t("shared.react.modals.delete_item_in_list.removing_from_saved_will_also_delete"))}render_form(){return i().createElement("form",null,i().createElement(o.A,null,i().createElement(a.Sc,{name:"confirm_delete",labelText:I18n.t("shared.react.modals.delete_item_in_list.do_not_ask_me_again"),selected:this.state.selected,onChange:this.handle_checked})),this.render_actions())}render_actions(){return i().createElement("div",{className:"actions"},i().createElement(a.QW,{className:"text_btn cancel_btn",onClick:this.handle_cancel_button_click,type:"button"},I18n.t("shared.react.modals.delete_item_in_list.cancel")),i().createElement(a.QW,{type:"button",className:"delete_btn",onClick:this.handle_confirm_click},I18n.t("shared.react.modals.delete_item_in_list.delete")))}}Scribd.addComponent("Shared.React.Lists.Modals.DeleteItemInList",l)},52951:(e,t,s)=>{"use strict";s.d(t,{A:()=>_});var r=s(32720),i=s.n(r),a=s(22355),n=s.n(a),o=s(60569);class _ extends o.A{constructor(e){super(e),this.enclosing_class("auto__shared_react_persona_icon")}component_classes(){const{author:e,extra_css_classes:t,image_url:s,is_top_results_author:r,size:i}=this.props;return n()("persona_icon",i,t,{top_results_author_image:e&&r,"icon-ic_userofficial_60":e&&!s&&r,"icon-ic_user_circle":!e&&!s})}enclosing_element_args(){return{"aria-hidden":!0}}renderInitials(){return this.props.image_url||!this.props.author||this.props.is_top_results_author?null:i().createElement("span",{"aria-hidden":"true"},this.props.initials)}renderImage(){return this.props.image_url?i().createElement("img",{src:this.props.image_url,srcSet:`${this.props.retina_image_url} 2x`,alt:""}):null}render_content(){return i().createElement(i().Fragment,null,this.renderImage(),this.renderInitials())}}_.defaultProps={extra_css_classes:"",image_url:"",is_top_results_author:!1,retina_image_url:"",initials:""},Scribd.addComponent("Shared.React.PersonaIcon",_)},23447:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var r,i,a,n,o=s(11373),_=s(32720),l=s.n(_),d=s(60569);class c extends d.A{constructor(e){super(e),this.enclosing_class("auto__shared_react_reading_progress_bar")}component_classes(){return"reading_progress_wrapper"}render_content(){const e=o.default.t("shared.react.reading_progress_bar.math_round_props_percentage_0_of_props_short_title_completed",{math_round_props_percentage_0:Math.round(this.props.percentage||0),props_short_title:this.props.short_title});return l().createElement("div",{className:"reading_progress_outer"},l().createElement("div",{style:{width:`${this.props.percentage||0}%`},className:"reading_progress_outer_dark_overlay","aria-label":e}))}}r=c,a={short_title:"",percentage:0},(i="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i="defaultProps","string"))?n:n+"")in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a},9101:(e,t,s)=>{"use strict";s.d(t,{A:()=>f});var r=s(22355),i=s.n(r),a=s(11373),n=s(32720),o=s.n(n),_=s(64420),l=s(17230),d=s(44881),c=s(55425),u=s(55572),p=s(11865),h=s(60569),m=s(8022),b=s(83754),v=s(28797);function g(e,t,s){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class f extends h.A{constructor(e){super(e),this.enclosing_class("auto__shared_react_save_button"),this.state={item:this.props.item,loading:!1},this.set_loading=this.set_loading.bind(this),this.handle_update_done=this.handle_update_done.bind(this),this.handle_click=this.handle_click.bind(this)}component_classes(){return i()(this.props.classes,"save_button",{with_icon:this.props.show_icon})}componentWillReceiveProps(e){e.item!==this.props.item&&this.setState({item:e.item}),e.loading!==this.state.loading&&this.set_loading(e.loading)}componentDidMount(){(0,p.getCookie)(f.COOKIE_NAME)||(0,p.setCookie)(f.COOKIE_NAME,!0)}should_confirm_delete(){return"true"===(0,p.getCookie)(f.COOKIE_NAME)}set_loading(e){this.props.in_menu||this.setState({loading:e}),this.props.on_loading&&this.props.on_loading(e)}set_in_library_state(e){this.props.in_menu||this.setState({item:Object.assign({},this.state.item,{in_library:e})})}get_tooltip_text(){if(!this.props.show_tooltip)return;let e;return this.state.item.in_library?(e=a.default.t("shared.react.save_button.remove_from_saved_cap"),this.props.cta_remove||e):(e=a.default.t("shared.react.save_button.save_for_later_cap"),this.props.cta_save||e)}manual_clamp(e=""){return e&&e.length>150?`${e.slice(0,150)}â€¦`:e}get_short_title(){return this.state.item.short_title||this.manual_clamp(this.state.item.title)}get_save_cta(){return this.props.cta_save?this.props.cta_save:a.default.t("shared.react.save_button.save_for_later_cap")}get_remove_cta(){return this.props.cta_remove?this.props.cta_remove:a.default.t("shared.react.save_button.remove_from_saved_cap")}get_cta_text(){if(this.props.show_text)return this.state.item.in_library?this.get_remove_cta():this.get_save_cta()}get_aria_text(){return this.state.item.in_library?a.default.t("shared.react.save_button.remove_short_title_from_saved",{short_title:this.get_short_title()}):a.default.t("shared.react.save_button.save_short_title_for_later",{short_title:this.get_short_title()})}get_save_icon_class_name(){const e=this.props.use_thick_icon?"2px":"1px";return`icon icon-ic_${this.state.item.in_library?"saved":"save"}_for_later_${e}`}handle_xhr_fail(e){"function"==typeof this.props.on_error?this.props.on_error(this.state.item.id):Scribd.Flasher.standard("error",e)}handle_add_success(){this.set_in_library_state(!0),this.props.on_save&&this.props.on_save(this.state.item.id)}handle_add_failure(){this.set_in_library_state(!1),this.handle_xhr_fail(a.default.t("shared.react.save_button.failed_to_save_title"))}handle_remove_success(e,t){this.set_in_library_state(!1),this.props.on_remove&&this.props.on_remove(e,t)}handle_remove_failure(){this.set_in_library_state(!0),this.handle_xhr_fail(a.default.t("shared.react.save_button.failed_to_remove_title")),this.set_loading(!1)}handle_update_done(){this.set_loading(!1)}handle_update(){this.state.item.in_library?this.handle_remove_from_saved():this.handle_add_to_saved()}handle_remove_from_saved(e){v.A.remove(this.state.item.id).done((()=>this.handle_remove_success(this.state.item.id,e))).fail(this.handle_remove_failure).always(this.handle_update_done)}handle_add_to_saved(){v.A.add(this.state.item.id).done(this.handle_add_success).fail(this.handle_add_failure).always(this.handle_update_done)}open_delete_confirmation_modal(e){e.collection_ids.length?(this.set_loading(!1),Scribd.Lightbox.open_react("delete_item_in_list",o().createElement(b.A,{on_confirm:()=>{this.handle_remove_from_saved(e.collection_ids)},on_loading:this.set_loading}))):this.handle_update()}handle_save_or_remove(){this.set_loading(!0),Scribd.kill_tooltips(),this.state.item.in_library&&this.should_confirm_delete()?m.default.collectionsContainingDocument(this.state.item.id).done((e=>this.open_delete_confirmation_modal(e))).fail(this.handle_remove_failure):this.handle_update()}handle_click(e){this.props.on_click&&this.props.on_click(e),(0,p.trackEvent)("library_btn:add_to_library:click",{doc_id:this.state.item.id,action:this.state.item.in_library?"remove":"add"}),Scribd.with_login(this.loginParams(),this.handle_save_or_remove)}loginParams(){const e={oauthSignupUrl:this.props.oauthSignupUrl,trackingData:{loc:"add_to_library"},userAction:c.ACCOUNT_CREATION.USER_ACTIONS.SAVE};return Scribd.logged_in||(e.loginParams={add_to_library:this.state.item.id}),e}render_icon(){if(this.props.show_icon)return o().createElement("span",{className:this.get_save_icon_class_name(),"aria-hidden":"true",key:"icon"})}render_aria_span(){return o().createElement("span",{className:"visually_hidden"},this.get_aria_text())}render_icon_rebrand(){if(this.props.show_icon){return this.state.item.in_library?d.pX4:d.VPh}}render_content(){const{addSavedClass:e,"data-e2e":t,text_btn:s,show_text:r,scribdRebrand:a}=this.props;return o().createElement(o().Fragment,null,a?o().createElement(o().Fragment,null,o().createElement(_.m,{content:this.get_tooltip_text()},o().createElement(l.U9,{alt:this.get_tooltip_text(),size:"small",icon:this.render_icon_rebrand(),className:"edit_saved_btn_rebrand",onClick:this.handle_click})),this.get_cta_text(),this.render_aria_span()):o().createElement(u.nF,{type:"button",className:i()("edit_saved_btn flat_btn",{loading:this.state.loading,disabled:this.state.loading,text_btn:s,icon_only:!r,saved:this.state.item.in_library&&e}),onClick:this.handle_click,"data-e2e":t,"data-tooltip":this.get_tooltip_text(),"data-label":this.get_tooltip_text(),"aria-label":this.get_aria_text()},this.render_icon(),this.get_cta_text(),this.render_aria_span()))}}g(f,"COOKIE_NAME","library:confirm_delete_item_in_list"),g(f,"defaultProps",{cta_remove:"",cta_save:"","data-e2e":null,show_icon:!0,show_text:!0,show_tooltip:!0,text_btn:!0,use_thick_icon:!1}),Scribd.addComponent("Shared.React.SaveButton",f)},82355:(e,t,s)=>{"use strict";s.d(t,{A:()=>D});var r=s(22355),i=s.n(r),a=s(11373),n=s(32720),o=s.n(n);const _={get LABEL(){return a.default.t("shared.react.upvotes.useful")},get USER_UPVOTED_HIDDEN(){return a.default.t("shared.react.upvotes.upvotes_you_marked_this_as_useful")},get USER_NOT_UPVOTED_HIDDEN(){return a.default.t("shared.react.upvotes.up_votes_mark_as_useful")}},l={get LABEL(){return a.default.t("shared.react.upvotes.not_useful")},get USER_DOWNOVOTED_HIDDEN(){return a.default.t("shared.react.upvotes.down_votes_you_marked_this_as_not_useful")},get USER_NOT_DOWNOVOTED_HIDDEN(){return a.default.t("shared.react.upvotes.down_votes_mark_as_not_useful")}},d={get MARKED_AS_UPVOTED(){return a.default.t("shared.react.upvotes.document_is_marked_as_useful")},get MARKED_AS_DOWNVOTED(){return a.default.t("shared.react.upvotes.document_is_marked_as_not_useful")}};var c=s(55425),u=s(11865),p=(s(21270),s(60569));const h="_11OEbj",m="_3GRguS",b="_2XT-7C",v="_2CmoNq",g="_29emT4",f="_2kqY2E",y="ND5b9i",w="_3jA_zE",E="gx5-D8",k="_2_vWB_";var S,N=s(23589);function O(){return O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},O.apply(this,arguments)}function A(e,t,s){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}class D extends p.A{constructor(e){super(e),this.enclosing_class(h),this.state={initial_rating:e.user_rating,user_rating:e.user_rating,upvotes:e.upvote_count,downvotes:e.downvote_count}}componentDidMount(){D.instances.push(this),D.bind_global_handlers()}component_classes(){return"upvotes_container"}enclosing_element_args(e={}){return this.props.active&&(e.href="#",e.onClick=e=>e.preventDefault()),e}upvote(){this.rate_title(5)}downvote(){this.rate_title(1)}showTooltip(e){$(e.target.children[0]).trigger("mouseenter")}hideTooltip(e){$(e.target.children[0]).trigger("mouseleave")}rate_title(e){if(!this.props.active)return;const t={trackingData:{loc:"upvotes"},userAction:c.ACCOUNT_CREATION.USER_ACTIONS.RATE};Scribd&&Scribd.with_login(t,this.handle_rating.bind(this,e))}handle_rating(e){const t=this.state.user_rating;this.setState({user_rating:e},(()=>{const e=[this,0===t];$(this.container).trigger("scribd:upvote_update",e)})),$.post(this.props.ratings_path,{rated:e,source:4}).fail((()=>{Scribd&&Scribd.Flasher&&Scribd.Flasher.standard("error",a.default.t("shared.react.star_ratings.your_rating_was_not_saved_please")),this.setState({user_rating:t},(function(){$(this.container).trigger("scribd:upvote_update",this)}))})).always((()=>{(0,u.trackEvent)("ratings:upvote:update",{word_document_id:this.props.doc_id,rating:this.state.user_rating})}))}get_upvotes_hidden_msg(e){const{user_upvoted_hidden:t,user_not_upvoted_hidden:s}=this.props.thumbs_up_labels;return e?t:s}get_downvotes_hidden_msg(e){const{user_downvoted_hidden:t,user_not_downvoted_hidden:s}=this.props.thumbs_down_labels;return e?t:s}render_content(){return this.props.render_stats_first?[this.render_stats(),this.render_upvotes()]:[this.render_upvotes(),this.render_stats()]}render_live_region(e){const{marked_as_upvoted:t,marked_as_downvoted:s}=this.props.has_selection_labels,r=e?t:s;return o().createElement("span",{"aria-atomic":"true","aria-live":"polite",className:"upVotesLiveRegion visually_hidden",key:"upvotes_live_region",role:"status"},r)}get_icons(e,t,s){let r={upvote:D.ICON_PATHS.UPVOTE.OUTLINE,downvote:D.ICON_PATHS.DOWNVOTE.OUTLINE};return e&&t&&(r.upvote=D.ICON_PATHS.UPVOTE.FILL),e&&s&&(r.downvote=D.ICON_PATHS.DOWNVOTE.FILL),r}get_thumbs_label(e,t){return e&&e.label?e.label:t.LABEL}render_upvotes(){let{user_rating:e,upvotes:t,downvotes:s}=this.state;const r=this.props.user_rating,a=5===e,n=1===e;e!==r&&(r?a?(s--,t++):(s++,t--):a?t++:s++);const d=Boolean(a||n),c=this.get_icons(d,a,n),u=this.get_thumbs_label(this.props.thumbs_up_labels,_),p=this.get_thumbs_label(this.props.thumbs_down_labels,l),h={onFocus:this.showTooltip,onBlur:this.hideTooltip,onMouseLeave:this.hideTooltip},b={key:"upvotes_thumbs_up",className:i()("vote","upvote",y,{[k]:this.props.active,[E]:a,[w]:d}),onClick:this.upvote,children:[o().createElement("span",{"aria-disabled":Boolean(a),"aria-hidden":"true","aria-label":u,className:i()("thumbs_up","icon",c.upvote),"data-tooltip":!this.props.hide_tooltips,key:"icon",role:"presentation"}),o().createElement("span",{className:i()("label",{hidden:!this.props.showLabel}),key:"label"},u),o().createElement("span",{className:i()(m,{hidden:this.props.showLabel}),key:"count"},t),o().createElement("span",{key:"count_hidden_msg",className:"visually_hidden"},this.get_upvotes_hidden_msg(a))]},v={key:"upvotes_thumbs_down",className:i()("vote","downvote",y,{[k]:this.props.active,[E]:n,[w]:d}),onClick:this.downvote,children:[o().createElement("span",{"aria-disabled":Boolean(n),"aria-hidden":"true","aria-label":p,className:i()("thumbs_down","icon",c.downvote),"data-tooltip":!this.props.hide_tooltips,key:"icon",role:"presentation"}),o().createElement("span",{className:i()("label",{hidden:!this.props.showLabel}),key:"label"},p),o().createElement("span",{className:i()(m,{hidden:this.props.showLabel}),key:"count"},s),o().createElement("span",{key:"count_hidden_msg",className:"visually_hidden"},this.get_downvotes_hidden_msg(n))]};let S=[];return this.props.active?(S.push(o().createElement("button",O({type:"button"},h,b))),S.push(o().createElement("button",O({type:"button"},h,v)))):(S.push(o().createElement("span",O({},h,b))),S.push(o().createElement("span",O({},h,v)))),o().createElement("div",{key:"upvotes_actions",className:i()("upvotes",g,{[f]:!this.props.active})},o().createElement("div",{className:"votes_inner_container"},S,d&&this.render_live_region(a)))}render_stats(){if(!this.props.show_stats)return;let e=null;return this.props.score&&(e=o().createElement("div",{className:i()("score",b)},a.default.t("shared.react.upvotes.props_score_5_score",{props_score:this.props.score}))),o().createElement("div",{key:"upvote-stats",className:v},o().createElement("div",null,o().createElement("div",null,a.default.t("shared.react.upvotes.props_views_views",{props_views:this.props.views})),e))}}S=D,A(D,"ICON_PATHS",{UPVOTE:{FILL:"icon-ic_thumbsup_fill_small",OUTLINE:"icon-ic_thumbsup_outline_small"},DOWNVOTE:{FILL:"icon-ic_thumbsdown_fill_small",OUTLINE:"icon-ic_thumbsdown_outline_small"}}),A(D,"instances",[]),A(D,"bind_global_handlers",N.once((()=>{$(window).on("scribd:upvote_update",((e,t)=>{const s=Array.from(S.instances);for(let e of s)e!==t&&t.props.doc_id===e.props.doc_id&&e.setState({user_rating:t.state.user_rating})})),$(window).on("scribd:upvote_update:pdf_reader",((e,t)=>{const s=Array.from(S.instances);for(let e of s)t.doc_id===e.props.doc_id&&e.setState({user_rating:t.rating})}))}))),D.defaultProps={downvote_count:0,force_outline_icon:!1,has_selection_labels:{marked_as_upvoted:d.MARKED_AS_UPVOTED,marked_as_downvoted:d.MARKED_AS_DOWNVOTED},render_stats_first:!1,showLabel:!1,thumbs_down_labels:{user_downvoted_hidden:l.USER_DOWNOVOTED_HIDDEN,user_not_downvoted_hidden:l.USER_NOT_DOWNOVOTED_HIDDEN},thumbs_up_labels:{user_upvoted_hidden:_.USER_UPVOTED_HIDDEN,user_not_upvoted_hidden:_.USER_NOT_UPVOTED_HIDDEN},upvote_count:0,user_rating:0}},20901:(e,t,s)=>{"use strict";function r(e){(null!=Scribd.current_doc?Scribd.current_doc.id:void 0)===e.id&&(e=Scribd.current_doc);const t={id:e.id};return e.secret_password&&(t.secret_password=e.secret_password),t}s.d(t,{k:()=>r})},27067:(e,t,s)=>{e.exports=s(30141)(29)}}]);
//# sourceMappingURL=https://www.scribd.com/webpack/monolith/6506.1571130e55244860b4a8.js.map