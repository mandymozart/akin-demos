"use strict";(self.webpackChunk_scribd_app_monolith=self.webpackChunk_scribd_app_monolith||[]).push([[1119],{67779:(e,t,n)=>{n.d(t,{S:()=>s});var i=n(32720);function r(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var a="undefined"!=typeof window?i.useLayoutEffect:i.useEffect,o=new WeakMap;function s(e,t){var n,s,l,u=(n=t||null,s=function(t){return e.forEach((function(e){return r(e,t)}))},(l=(0,i.useState)((function(){return{value:n,callback:s,facade:{get current(){return l.value},set current(e){var t=l.value;t!==e&&(l.value=e,l.callback(e,t))}}}}))[0]).callback=s,l.facade);return a((function(){var t=o.get(u);if(t){var n=new Set(t),i=new Set(e),a=u.current;n.forEach((function(e){i.has(e)||r(e,null)})),i.forEach((function(e){n.has(e)||r(e,a)}))}o.set(u,e)}),[e]),u}},1666:(e,t,n)=>{n.d(t,{m:()=>o});var i=n(34117),r=n(32720),a=function(e){var t=e.sideCar,n=(0,i.Tt)(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return r.createElement(a,(0,i.Cl)({},n))};function o(e,t){return e.useMedium(t),a}a.isSideCarExport=!0},95778:(e,t,n)=>{n.d(t,{f:()=>o});var i=n(34117);function r(e){return e}function a(e,t){void 0===t&&(t=r);var n=[],i=!1;return{read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var r=t(e,i);return n.push(r),function(){n=n.filter((function(e){return e!==r}))}},assignSyncMedium:function(e){for(i=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){i=!0;var t=[];if(n.length){var r=n;n=[],r.forEach(e),t=n}var a=function(){var n=t;t=[],n.forEach(e)},o=function(){return Promise.resolve().then(a)};o(),n={push:function(e){t.push(e),o()},filter:function(e){return t=t.filter(e),n}}}}}function o(e){void 0===e&&(e={});var t=a(null);return t.options=(0,i.Cl)({async:!0,ssr:!1},e),t}},58836:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AutoCapture=t.runStatsigAutoCapture=t.StatsigAutoCapturePlugin=void 0;const i=n(253),r=n(58758),a=n(28741),o=n(21309),s=n(23213),l=n(65750),u=n(67521),c={submit:r.AutoCaptureEventName.FORM_SUBMIT,click:r.AutoCaptureEventName.CLICK};function g(e,t){return new d(e,t)}t.StatsigAutoCapturePlugin=class{constructor(e){this._options=e,this.__plugin="auto-capture"}bind(e){g(e,this._options)}},t.runStatsigAutoCapture=g;class d{constructor(e,t){var n,r,s;this._client=e,this._disabledEvents={},this._previousLoggedPageViewUrl=null,this._hasLoggedPageViewEnd=!1;const{sdkKey:l,errorBoundary:u,values:c}=e.getContext();this._disabledEvents=null!==(r=null===(n=null==c?void 0:c.auto_capture_settings)||void 0===n?void 0:n.disabled_events)&&void 0!==r?r:{},this._errorBoundary=u,this._errorBoundary.wrap(this),this._client.$on("values_updated",(()=>{var e,t;const n=this._client.getContext().values;this._disabledEvents=null!==(t=null===(e=null==n?void 0:n.auto_capture_settings)||void 0===e?void 0:e.disabled_events)&&void 0!==t?t:this._disabledEvents})),this._engagementManager=new a.EngagementManager,this._rageClickManager=new o.default,this._eventFilterFunc=null==t?void 0:t.eventFilterFunc;const g=(0,i._getDocumentSafe)();if(!(0,i._isServerEnv)()){__STATSIG__=(0,i._getStatsigGlobal)();const e=null!==(s=__STATSIG__.acInstances)&&void 0!==s?s:{};e[l]=this,__STATSIG__.acInstances=e}"loading"!==(null==g?void 0:g.readyState)?this._initialize():g.addEventListener("DOMContentLoaded",(()=>this._initialize()))}_addEventHandlers(){const e=(0,i._getWindowSafe)(),t=(0,i._getDocumentSafe)();if(!e||!t)return;const n=(e,t=!0)=>{var n;const r=e||(null===(n=(0,i._getWindowSafe)())||void 0===n?void 0:n.event);if(this._autoLogEvent(r),t&&this._engagementManager.bumpInactiveTimer(),"click"===r.type&&r instanceof MouseEvent){this._rageClickManager.isRageClick(r.clientX,r.clientY,Date.now())&&this._logRageClick(r)}};(0,s._registerEventHandler)(t,"click",(e=>n(e))),(0,s._registerEventHandler)(t,"submit",(e=>n(e))),(0,s._registerEventHandler)(e,"error",(e=>n(e,!1))),(0,s._registerEventHandler)(e,"pagehide",(()=>this._tryLogPageViewEnd())),(0,s._registerEventHandler)(e,"beforeunload",(()=>this._tryLogPageViewEnd()))}_addPageViewTracking(){const e=(0,i._getWindowSafe)(),t=(0,i._getDocumentSafe)();e&&t&&((0,s._registerEventHandler)(e,"popstate",(()=>this._tryLogPageView())),window.history.pushState=new Proxy(window.history.pushState,{apply:(e,t,[n,i,r])=>{e.apply(t,[n,i,r]),this._tryLogPageView()}}),this._tryLogPageView())}_autoLogEvent(e){var t;const n=null===(t=e.type)||void 0===t?void 0:t.toLowerCase();if("error"===n&&e instanceof ErrorEvent)return void this._logError(e);const i=(0,s._getTargetNode)(e);if(!i)return;if(!(0,s._shouldLogEvent)(e,i))return;const r=c[n];if(!r)return;const{value:a,metadata:o}=(0,l._gatherEventData)(i),g=(0,u._gatherAllMetadata)((0,s._getSafeUrl)());this._enqueueAutoCapture(r,a,Object.assign(Object.assign({},g),o))}_initialize(){this._engagementManager.startInactivityTracking((()=>this._tryLogPageViewEnd(!0))),this._addEventHandlers(),this._addPageViewTracking(),this._logSessionStart(),this._logPerformance()}_logError(e){const t=(null==e?void 0:e.error)||{};let n=t;if("object"==typeof t)try{n=JSON.stringify(t)}catch(e){n="function"==typeof(null==t?void 0:t.toString)?t.toString():"Unknown Error"}this._enqueueAutoCapture(r.AutoCaptureEventName.ERROR,e.message,{message:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,error_str:n})}_logSessionStart(){const e=this._getSessionFromClient();try{if(!this._isNewSession(e))return;this._enqueueAutoCapture(r.AutoCaptureEventName.SESSION_START,(0,s._getSanitizedPageUrl)(),{sessionID:e.data.sessionID},{flushImmediately:!0})}catch(e){this._errorBoundary.logError("AC::logSession",e)}}_tryLogPageView(){const e=(0,s._getSafeUrl)(),t=this._previousLoggedPageViewUrl;if(t&&e.href===t.href)return;this._engagementManager.setLastPageViewTime(Date.now()),this._previousLoggedPageViewUrl=e,this._hasLoggedPageViewEnd=!1;const n=(0,u._gatherAllMetadata)(e);this._enqueueAutoCapture(r.AutoCaptureEventName.PAGE_VIEW,(0,s._getSanitizedPageUrl)(),n,{flushImmediately:!0,addNewSessionMetadata:!0}),this._engagementManager.bumpInactiveTimer()}_tryLogPageViewEnd(e=!1){if(this._hasLoggedPageViewEnd)return;this._hasLoggedPageViewEnd=!0;const t=this._engagementManager.getScrollMetrics(),n=this._engagementManager.getPageViewLength();this._enqueueAutoCapture(r.AutoCaptureEventName.PAGE_VIEW_END,(0,s._getSanitizedPageUrl)(),Object.assign(Object.assign({},t),{pageViewLength:n,dueToInactivity:e}),{flushImmediately:!0})}_logRageClick(e){const{value:t,metadata:n}=(0,l._gatherEventData)(e.target);this._enqueueAutoCapture(r.AutoCaptureEventName.RAGE_CLICK,t,Object.assign(Object.assign({x:e.clientX,y:e.clientY,timestamp:Date.now()},(0,u._gatherAllMetadata)((0,s._getSafeUrl)())),n))}_logPerformance(){const e=(0,i._getWindowSafe)();e&&e.performance&&void 0!==(null==e?void 0:e.performance)&&"function"==typeof e.performance.getEntriesByType&&"function"==typeof e.performance.getEntriesByName&&setTimeout((()=>{const t={},n=e.performance.getEntriesByType("navigation");if(n&&n.length>0&&n[0]instanceof PerformanceNavigationTiming){const e=n[0];t.load_time_ms=e.duration,t.dom_interactive_time_ms=e.domInteractive-e.startTime,t.redirect_count=e.redirectCount,t.transfer_bytes=e.transferSize}const i=e.performance.getEntriesByName("first-contentful-paint");i&&i.length>0&&i[0]instanceof PerformancePaintTiming&&(t.first_contentful_paint_time_ms=i[0].startTime),this._enqueueAutoCapture(r.AutoCaptureEventName.PERFORMANCE,(0,s._getSanitizedPageUrl)(),Object.assign(Object.assign({},t),(0,u._getNetworkInfo)()))}),1)}_enqueueAutoCapture(e,t,n,r){var a,o,s;const l=e.slice(14);if(this._disabledEvents[e]||this._disabledEvents[l])return;const u=this._getSessionFromClient();try{const l=Object.assign({sessionID:u.data.sessionID,page_url:null!==(s=null===(o=null===(a=(0,i._getWindowSafe)())||void 0===a?void 0:a.location)||void 0===o?void 0:o.href)&&void 0!==s?s:""},n);(null==r?void 0:r.addNewSessionMetadata)&&(l.isNewSession=String(this._isNewSession(u)));const c={eventName:e,value:t,metadata:l};if(this._eventFilterFunc&&!this._eventFilterFunc(c))return;this._client.logEvent(c),(null==r?void 0:r.flushImmediately)&&this._client.flush().catch((e=>{i.Log.error(e)}))}catch(e){this._errorBoundary.logError("AC::enqueue",e)}}_isNewSession(e){return Math.abs(e.data.startTime-Date.now())<1e3}_getSessionFromClient(){return this._client.getContext().session}}t.AutoCapture=d},28741:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EngagementManager=void 0;const i=n(253);t.EngagementManager=class{constructor(){this._lastScrollY=0,this._maxScrollY=0,this._lastScrollPercentage=0,this._maxScrollPercentage=0,this._lastPageViewTime=Date.now(),this._inactiveTimer=null,this._onInactivityCallback=null,this._initializeScrollTracking()}_initializeScrollTracking(){const e=(0,i._getWindowSafe)();e&&(e.addEventListener("scroll",(()=>this._handleScroll())),e.addEventListener("scrollend",(()=>this._handleScroll())),e.addEventListener("resize",(()=>this._handleScroll())))}_handleScroll(){const e=(0,i._getWindowSafe)(),t=(0,i._getDocumentSafe)();if(!e||!t)return;const n=t.body.scrollHeight,r=e.scrollY||t.documentElement.scrollTop||0,a=e.innerHeight;this._lastScrollY=r,this._maxScrollY=Math.max(this._maxScrollY,r);const o=Math.min(100,Math.round((r+a)/n*100));this._lastScrollPercentage=o,this._maxScrollPercentage=Math.max(this._maxScrollPercentage,o),this.bumpInactiveTimer()}getScrollMetrics(){return{lastScrollY:this._lastScrollY,maxScrollY:this._maxScrollY,lastScrollPercentage:this._lastScrollPercentage,maxScrollPercentage:this._maxScrollPercentage,scrollDepth:this._maxScrollPercentage}}getPageViewLength(){return Date.now()-this._lastPageViewTime}setLastPageViewTime(e){this._lastPageViewTime=e}startInactivityTracking(e){this._onInactivityCallback=e}bumpInactiveTimer(){const e=(0,i._getWindowSafe)();e&&(this._inactiveTimer&&clearTimeout(this._inactiveTimer),this._inactiveTimer=e.setTimeout((()=>{this._onInactivityCallback&&this._onInactivityCallback()}),6e5))}}},21309:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this._clicks=[]}isRageClick(e,t,n){this._clicks=this._clicks.filter((e=>n-e.timestamp<1e3));return this._clicks.length>0&&!(n=>{const i=e-n.x,r=t-n.y;return Math.abs(i)+Math.abs(r)<=30})(this._clicks[this._clicks.length-1])&&(this._clicks=[]),this._clicks.push({x:e,y:t,timestamp:n}),this._clicks.length>=3}}},23213:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._getAnchorNodeInHierarchy=t._getSafeTimezoneOffset=t._getSafeTimezone=t._getSafeNetworkInformation=t._registerEventHandler=t._getSanitizedPageUrl=t._getSafeUrl=t._shouldLogEvent=t._getTargetNode=t._stripEmptyValues=void 0;const i=n(253);function r(e){if(!e)return null;let t=e;for(;t;){const e=t.tagName.toLowerCase();if(["body","document"].includes(e))return null;if("a"===t.tagName.toLowerCase())return t;t=t.parentElement}return null}t._stripEmptyValues=function(e){return Object.fromEntries(Object.entries(e).filter((([e,t])=>null!=t&&""!==t&&void 0!==t)))},t._getTargetNode=function(e){if(!e)return null;let t=e.target||e.srcElement;return t&&t instanceof Element?(3===t.nodeType&&(t=t.parentNode||null),t):null},t._shouldLogEvent=function(e,t){if(!e||!t||1!==t.nodeType)return!1;const n=t.tagName.toLowerCase(),i=e.type.toLowerCase();switch(n){case"html":return!1;case"form":return"submit"===i;case"input":case"select":case"textarea":return["change"].includes(i);default:if("click"===i){if("button"===n)return!0;if(r(t))return!0}return!1}},t._getSafeUrl=function(){var e,t,n;const r=null!==(n=null===(t=null===(e=(0,i._getWindowSafe)())||void 0===e?void 0:e.location)||void 0===t?void 0:t.href)&&void 0!==n?n:"";let a;try{a=new URL(r)}catch(e){a=new URL("error:")}return a},t._getSanitizedPageUrl=function(){return(0,i._getCurrentPageUrlSafe)()||""},t._registerEventHandler=function(e,t,n){e&&e.addEventListener&&e.addEventListener(t,n,!0)},t._getSafeNetworkInformation=function(){const e=(0,i._getWindowSafe)();if(!e||!e.navigator)return null;const t=e.navigator.connection;return t||null},t._getSafeTimezone=function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return null}},t._getSafeTimezoneOffset=function(){try{return(new Date).getTimezoneOffset()}catch(e){return null}},t._getAnchorNodeInHierarchy=r},65750:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._getMetadataFromElement=t._gatherEventData=void 0;const i=n(253),r=n(23213),a=1e3;function o(e,t){return e?e.length>t?e.substring(0,t)+"...":e:null}function s(e){const t={},n=Array.from(e.classList);return t.classList=n.length>0?n.slice(0,100):null,t.class=(o(e.getAttribute("class"),a)||"").replace(/\s+/g," ").trim(),t.id=o(e.getAttribute("id"),a),t.ariaLabel=o(e.getAttribute("aria-label"),a),t.selector=function(e){if(!e)return"";if(!e.parentNode){const t=e.tagName.toLowerCase();if(e.id)return`#${e.id}`;let n=t;if(e.className&&"string"==typeof e.className){const t=e.className.trim().split(/\s+/);t.length>0&&""!==t[0]&&(n+="."+t.join("."))}return n}const t=[];let n=e,i=0;for(;n&&n.nodeType===Node.ELEMENT_NODE&&i<50;){const e=l(n);if(t.unshift(e),n.id)break;if(n=n.parentElement,n&&"body"===n.tagName.toLowerCase())break;i++}return t.join(" > ")}(e),t}function l(e){const t=e.tagName.toLowerCase();if(e.id)return`#${e.id}`;let n=t;if(e.className&&"string"==typeof e.className){const t=e.className.trim().split(/\s+/);t.length>0&&""!==t[0]&&(n+="."+t.join("."))}const i=e.parentElement;if(i&&i.children.length>1){let t=1,i=1,r=e.previousElementSibling;for(;r;)t++,r.tagName===e.tagName&&i++,r=r.previousElementSibling;n+=`:nth-child(${t})`,(i>1||function(e){let t=e.nextElementSibling;for(;t;){if(t.tagName===e.tagName)return!0;t=t.nextElementSibling}return!1}(e))&&(n+=`:nth-of-type(${i})`)}return n}t._gatherEventData=function(e){const t=e.tagName.toLowerCase(),n={},a=(0,i._getCurrentPageUrlSafe)()||"";n.tagName=t;const o=s(e);Object.assign(n,o),"form"===t&&Object.assign(n,function(e){var t;const n={};return n.action=e.getAttribute("action"),n.method=null!==(t=e.getAttribute("method"))&&void 0!==t?t:"GET",n.formName=e.getAttribute("name"),n.formId=e.getAttribute("id"),n}(e)),["input","select","textarea"].includes(t)&&"password"!==e.getAttribute("type")&&Object.assign(n,function(e){const t={};return t.content=e.value,t.inputName=e.getAttribute("name"),t}(e));const l=(0,r._getAnchorNodeInHierarchy)(e);return l&&Object.assign(n,function(e){const t={};return t.href=e.getAttribute("href"),t}(l)),("button"===t||l)&&Object.assign(n,function(e){const t={};t.content=(e.textContent||"").trim();const n=function(e){const t={};if(!e)return t;const n=null==e?void 0:e.dataset;if(!n)return t;for(const e in n)t[`data-${e}`]=n[e]||"";return t}(e);return Object.assign(t,n),t}(l||e)),{value:a,metadata:n}},t._getMetadataFromElement=s},4819:(e,t,n)=>{t.Mf=void 0;const i=n(253),r=n(58836);Object.defineProperty(t,"Mf",{enumerable:!0,get:function(){return r.StatsigAutoCapturePlugin}});var a=n(58758);Object.assign((0,i._getStatsigGlobal)(),{AutoCapture:r.AutoCapture,runStatsigAutoCapture:r.runStatsigAutoCapture,StatsigAutoCapturePlugin:r.StatsigAutoCapturePlugin})},67521:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._getNetworkInfo=t._gatherAllMetadata=t._gatherCommonMetadata=void 0;const i=n(253),r=n(23213);function a(e){var t,n,a,s,l,u,c,g;const d=(0,i._getDocumentSafe)(),_=(0,i._getWindowSafe)();return(0,r._stripEmptyValues)(Object.assign({title:null==d?void 0:d.title,current_url:null===(t=null==_?void 0:_.location)||void 0===t?void 0:t.href,user_agent:(null===(n=null==_?void 0:_.navigator)||void 0===n?void 0:n.userAgent)&&(null===(s=null===(a=null==_?void 0:_.navigator)||void 0===a?void 0:a.userAgent)||void 0===s?void 0:s.length)>200?_.navigator.userAgent.substring(0,200):null===(l=null==_?void 0:_.navigator)||void 0===l?void 0:l.userAgent,locale:null===(u=null==_?void 0:_.navigator)||void 0===u?void 0:u.language,hostname:e.hostname,pathname:e.pathname,screen_width:null===(c=null==_?void 0:_.screen)||void 0===c?void 0:c.width,screen_height:null===(g=null==_?void 0:_.screen)||void 0===g?void 0:g.height,viewport_width:null==_?void 0:_.innerWidth,viewport_height:null==_?void 0:_.innerHeight,timestamp:Date.now(),timezone:(0,r._getSafeTimezone)(),timezone_offset:(0,r._getSafeTimezoneOffset)()},o()))}function o(){const e=(0,r._getSafeNetworkInformation)(),t={};return void 0!==(null==e?void 0:e.effectiveType)&&(t.effective_connection_type=e.effectiveType),void 0!==(null==e?void 0:e.rtt)&&(t.rtt_ms=e.rtt),void 0!==(null==e?void 0:e.downlink)&&(t.downlink_mbps=e.downlink,t.downlink_kbps=1e3*e.downlink),void 0!==(null==e?void 0:e.saveData)&&(t.save_data=e.saveData),t}t._gatherCommonMetadata=a,t._gatherAllMetadata=function(e){const t=(0,i._getDocumentSafe)(),n=(0,i._getWindowSafe)();if(!t||!n)return{};const o=function(e){const t=(null==e?void 0:e.referrer)||"";if(!t)return{referrer:null,referrer_domain:null,referrer_path:null,searchEngine:"",searchQuery:""};try{const e=new URL(t),n=e.hostname,i=["google","bing","yahoo","duckduckgo","baidu"].find((e=>n.includes(e+".")))||"",r=e.searchParams.get("yahoo"===i?"p":"q")||"";return{referrer:t,referrer_domain:e.hostname,referrer_path:e.pathname,searchEngine:i,searchQuery:r}}catch(e){return{referrer:null,referrer_domain:null,referrer_path:null,searchEngine:"",searchQuery:""}}}(t),s=a(e),l=function(e){const t=e.searchParams,n={};return["utm_source","utm_medium","utm_campaign","utm_term","utm_content","msclkid","dclid","fbclid","gad_source","gclid","gclsrc","wbraid","utm_id","irclid","igshid","_kx","li_fat_id","mc_cid","mc_eid","epik","qclid","rdt_cid","sccid","ttc","ttclid","ttc_id","twclid"].forEach((e=>{const i=t.get(e);i&&(n[e]=i)})),n}(e),u={};return e.searchParams.forEach(((e,t)=>{u[t]=e})),Object.assign(Object.assign({},s),(0,r._stripEmptyValues)(Object.assign(Object.assign(Object.assign({},o),l),u)))},t._getNetworkInfo=o}}]);
//# sourceMappingURL=https://www.scribd.com/webpack/monolith/1119.cc892afdbb6cbad1e060.js.map