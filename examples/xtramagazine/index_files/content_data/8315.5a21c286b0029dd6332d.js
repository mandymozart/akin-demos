"use strict";(self.webpackChunk_scribd_app_monolith=self.webpackChunk_scribd_app_monolith||[]).push([[8315],{58315:(e,t,o)=>{o.d(t,{CA:()=>h,Hj:()=>c,YY:()=>a,eZ:()=>C,m0:()=>d});var n=o(94401),r=o(68842),l=o(32775),i=o(4794),s=o(16062);const c=[];function u(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch(e){}return e&&e.target}function a(e,t){var o,n;const r=new i.A;c.push(r),r.init(e);let l=window.MutationObserver||window.__rrMutationObserver;const u=null===(n=null===(o=null===window||void 0===window?void 0:window.Zone)||void 0===o?void 0:o.__symbol__)||void 0===n?void 0:n.call(o,"MutationObserver");u&&window[u]&&(l=window[u]);const a=new l((0,s.l0)(r.processMutations.bind(r)));return a.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),a}function p({mouseInteractionCb:e,doc:t,mirror:o,blockClass:i,blockSelector:c,sampling:a}){if(!1===a.mouseInteraction)return()=>{};const p=!0===a.mouseInteraction||void 0===a.mouseInteraction?{}:a.mouseInteraction,d=[];let y=null;return Object.keys(l.T7).filter((e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==p[e])).forEach((a=>{let p=(0,n.PX)(a);const S=(t=>n=>{const a=u(n);if((0,r.isBlocked)(a,i,c,!0))return;let p=null,d=t;if("pointerType"in n){switch(n.pointerType){case"mouse":p=l.Np.Mouse;break;case"touch":p=l.Np.Touch;break;case"pen":p=l.Np.Pen}p===l.Np.Touch?l.T7[t]===l.T7.MouseDown?d="TouchStart":l.T7[t]===l.T7.MouseUp&&(d="TouchEnd"):l.Np.Pen}else(0,r.legacy_isTouchEvent)(n)&&(p=l.Np.Touch);null!==p?(y=p,(d.startsWith("Touch")&&p===l.Np.Touch||d.startsWith("Mouse")&&p===l.Np.Mouse)&&(p=null)):l.T7[t]===l.T7.Click&&(p=y,y=null);const S=(0,r.legacy_isTouchEvent)(n)?n.changedTouches[0]:n;if(!S)return;const m=o.getId(a),{clientX:f,clientY:h}=S;(0,s.l0)(e)(Object.assign({type:l.T7[d],id:m,x:f,y:h},null!==p&&{pointerType:p}))})(a);if(window.PointerEvent)switch(l.T7[a]){case l.T7.MouseDown:case l.T7.MouseUp:p=p.replace("mouse","pointer");break;case l.T7.TouchStart:case l.T7.TouchEnd:return}d.push((0,r.on)(p,S,t))})),(0,s.l0)((()=>{d.forEach((e=>e()))}))}function d({scrollCb:e,doc:t,mirror:o,blockClass:n,blockSelector:l,sampling:i}){const c=(0,s.l0)((0,r.throttle)((0,s.l0)((i=>{const s=u(i);if(!s||(0,r.isBlocked)(s,n,l,!0))return;const c=o.getId(s);if(s===t&&t.defaultView){const o=(0,r.getWindowScroll)(t.defaultView);e({id:c,x:o.left,y:o.top})}else e({id:c,x:s.scrollLeft,y:s.scrollTop})})),i.scroll||100));return(0,r.on)("scroll",c,t)}const y=["INPUT","TEXTAREA","SELECT"],S=new WeakMap;function m(e){return function(e,t){if(b("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||b("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||b("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||b("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){const o=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(o)}else if(e.parentStyleSheet){const o=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(o)}return t}(e,[])}function f(e,t,o){let n,r;return e?(e.ownerNode?n=t.getId(e.ownerNode):r=o.getId(e),{styleId:r,id:n}):{}}function h({mirror:e,stylesheetManager:t},o){var n,r,l;let i=null;i="#document"===o.nodeName?e.getId(o):e.getId(o.host);const c="#document"===o.nodeName?null===(n=o.defaultView)||void 0===n?void 0:n.Document:null===(l=null===(r=o.ownerDocument)||void 0===r?void 0:r.defaultView)||void 0===l?void 0:l.ShadowRoot,u=(null==c?void 0:c.prototype)?Object.getOwnPropertyDescriptor(null==c?void 0:c.prototype,"adoptedStyleSheets"):void 0;return null!==i&&-1!==i&&c&&u?(Object.defineProperty(o,"adoptedStyleSheets",{configurable:u.configurable,enumerable:u.enumerable,get(){var e;return null===(e=u.get)||void 0===e?void 0:e.call(this)},set(e){var o;const n=null===(o=u.set)||void 0===o?void 0:o.call(this,e);if(null!==i&&-1!==i)try{t.adoptStyleSheets(e,i)}catch(e){}return n}}),(0,s.l0)((()=>{Object.defineProperty(o,"adoptedStyleSheets",{configurable:u.configurable,enumerable:u.enumerable,get:u.get,set:u.set})}))):()=>{}}function C(e,t={}){const o=e.doc.defaultView;if(!o)return()=>{};let i;!function(e,t){const{mutationCb:o,mousemoveCb:n,mouseInteractionCb:r,scrollCb:l,viewportResizeCb:i,inputCb:s,mediaInteractionCb:c,styleSheetRuleCb:u,styleDeclarationCb:a,canvasMutationCb:p,fontCb:d,selectionCb:y,customElementCb:S}=e;e.mutationCb=(...e)=>{t.mutation&&t.mutation(...e),o(...e)},e.mousemoveCb=(...e)=>{t.mousemove&&t.mousemove(...e),n(...e)},e.mouseInteractionCb=(...e)=>{t.mouseInteraction&&t.mouseInteraction(...e),r(...e)},e.scrollCb=(...e)=>{t.scroll&&t.scroll(...e),l(...e)},e.viewportResizeCb=(...e)=>{t.viewportResize&&t.viewportResize(...e),i(...e)},e.inputCb=(...e)=>{t.input&&t.input(...e),s(...e)},e.mediaInteractionCb=(...e)=>{t.mediaInteaction&&t.mediaInteaction(...e),c(...e)},e.styleSheetRuleCb=(...e)=>{t.styleSheetRule&&t.styleSheetRule(...e),u(...e)},e.styleDeclarationCb=(...e)=>{t.styleDeclaration&&t.styleDeclaration(...e),a(...e)},e.canvasMutationCb=(...e)=>{t.canvasMutation&&t.canvasMutation(...e),p(...e)},e.fontCb=(...e)=>{t.font&&t.font(...e),d(...e)},e.selectionCb=(...e)=>{t.selection&&t.selection(...e),y(...e)},e.customElementCb=(...e)=>{t.customElement&&t.customElement(...e),S(...e)}}(e,t),e.recordDOM&&(i=a(e,e.doc));const C=function({mousemoveCb:e,sampling:t,doc:o,mirror:n}){if(!1===t.mousemove)return()=>{};const i="number"==typeof t.mousemove?t.mousemove:50,c="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;let a,p=[];const d=(0,r.throttle)((0,s.l0)((t=>{const o=Date.now()-a;e(p.map((e=>(e.timeOffset-=o,e))),t),p=[],a=null})),c),y=(0,s.l0)((0,r.throttle)((0,s.l0)((e=>{const t=u(e),{clientX:o,clientY:i}=(0,r.legacy_isTouchEvent)(e)?e.changedTouches[0]:e;a||(a=(0,r.nowTimestamp)()),p.push({x:o,y:i,id:n.getId(t),timeOffset:(0,r.nowTimestamp)()-a}),d("undefined"!=typeof DragEvent&&e instanceof DragEvent?l.Cj.Drag:e instanceof MouseEvent?l.Cj.MouseMove:l.Cj.TouchMove)})),i,{trailing:!1})),S=[(0,r.on)("mousemove",y,o),(0,r.on)("touchmove",y,o),(0,r.on)("drag",y,o)];return(0,s.l0)((()=>{S.forEach((e=>e()))}))}(e),b=p(e),g=d(e),w=function({viewportResizeCb:e},{win:t}){let o=-1,n=-1;const l=(0,s.l0)((0,r.throttle)((0,s.l0)((()=>{const t=(0,r.getWindowHeight)(),l=(0,r.getWindowWidth)();o===t&&n===l||(e({width:Number(l),height:Number(t)}),o=t,n=l)})),200));return(0,r.on)("resize",l,t)}(e,{win:o}),R=function({inputCb:e,doc:t,mirror:o,blockClass:l,blockSelector:i,ignoreClass:c,ignoreSelector:a,maskInputOptions:p,maskInputFn:d,sampling:m,userTriggeredOnInput:f}){function h(e){let o=u(e);const s=e.isTrusted,S=o&&o.tagName;if(o&&"OPTION"===S&&(o=o.parentElement),!o||!S||y.indexOf(S)<0||(0,r.isBlocked)(o,l,i,!0))return;if(o.classList.contains(c)||a&&o.matches(a))return;let m=o.value,h=!1;const b=(0,n.B6)(o)||"";"radio"===b||"checkbox"===b?h=o.checked:(p[S.toLowerCase()]||p[b])&&(m=(0,n.iE)({element:o,maskInputOptions:p,tagName:S,type:b,value:m,maskInputFn:d})),C(o,f?{text:m,isChecked:h,userTriggered:s}:{text:m,isChecked:h});const v=o.name;"radio"===b&&v&&h&&t.querySelectorAll(`input[type="radio"][name="${v}"]`).forEach((e=>{if(e!==o){const t=e.value;C(e,f?{text:t,isChecked:!h,userTriggered:!1}:{text:t,isChecked:!h})}}))}function C(t,n){const r=S.get(t);if(!r||r.text!==n.text||r.isChecked!==n.isChecked){S.set(t,n);const r=o.getId(t);(0,s.l0)(e)(Object.assign(Object.assign({},n),{id:r}))}}const b=("last"===m.input?["change"]:["input","change"]).map((e=>(0,r.on)(e,(0,s.l0)(h),t))),v=t.defaultView;if(!v)return()=>{b.forEach((e=>e()))};const g=v.Object.getOwnPropertyDescriptor(v.HTMLInputElement.prototype,"value"),w=[[v.HTMLInputElement.prototype,"value"],[v.HTMLInputElement.prototype,"checked"],[v.HTMLSelectElement.prototype,"value"],[v.HTMLTextAreaElement.prototype,"value"],[v.HTMLSelectElement.prototype,"selectedIndex"],[v.HTMLOptionElement.prototype,"selected"]];return g&&g.set&&b.push(...w.map((e=>(0,r.hookSetter)(e[0],e[1],{set(){(0,s.l0)(h)({target:this,isTrusted:!1})}},!1,v)))),(0,s.l0)((()=>{b.forEach((e=>e()))}))}(e),T=function({mediaInteractionCb:e,blockClass:t,blockSelector:o,mirror:n,sampling:l,doc:i}){const c=(0,s.l0)((i=>(0,r.throttle)((0,s.l0)((l=>{const s=u(l);if(!s||(0,r.isBlocked)(s,t,o,!0))return;const{currentTime:c,volume:a,muted:p,playbackRate:d,loop:y}=s;e({type:i,id:n.getId(s),currentTime:c,volume:a,muted:p,playbackRate:d,loop:y})})),l.media||500))),a=[(0,r.on)("play",c(0),i),(0,r.on)("pause",c(1),i),(0,r.on)("seeked",c(2),i),(0,r.on)("volumechange",c(3),i),(0,r.on)("ratechange",c(4),i)];return(0,s.l0)((()=>{a.forEach((e=>e()))}))}(e);let I=()=>{},k=()=>{},M=()=>{},E=()=>{};e.recordDOM&&(I=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:o},{win:n}){if(!n.CSSStyleSheet||!n.CSSStyleSheet.prototype)return()=>{};const r=n.CSSStyleSheet.prototype.insertRule;n.CSSStyleSheet.prototype.insertRule=new Proxy(r,{apply:(0,s.l0)(((n,r,l)=>{const[i,s]=l,{id:c,styleId:u}=f(r,t,o.styleMirror);return(c&&-1!==c||u&&-1!==u)&&e({id:c,styleId:u,adds:[{rule:i,index:s}]}),n.apply(r,l)}))});const l=n.CSSStyleSheet.prototype.deleteRule;let i,c;n.CSSStyleSheet.prototype.deleteRule=new Proxy(l,{apply:(0,s.l0)(((n,r,l)=>{const[i]=l,{id:s,styleId:c}=f(r,t,o.styleMirror);return(s&&-1!==s||c&&-1!==c)&&e({id:s,styleId:c,removes:[{index:i}]}),n.apply(r,l)}))}),n.CSSStyleSheet.prototype.replace&&(i=n.CSSStyleSheet.prototype.replace,n.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:(0,s.l0)(((n,r,l)=>{const[i]=l,{id:s,styleId:c}=f(r,t,o.styleMirror);return(s&&-1!==s||c&&-1!==c)&&e({id:s,styleId:c,replace:i}),n.apply(r,l)}))})),n.CSSStyleSheet.prototype.replaceSync&&(c=n.CSSStyleSheet.prototype.replaceSync,n.CSSStyleSheet.prototype.replaceSync=new Proxy(c,{apply:(0,s.l0)(((n,r,l)=>{const[i]=l,{id:s,styleId:c}=f(r,t,o.styleMirror);return(s&&-1!==s||c&&-1!==c)&&e({id:s,styleId:c,replaceSync:i}),n.apply(r,l)}))}));const u={};v("CSSGroupingRule")?u.CSSGroupingRule=n.CSSGroupingRule:(v("CSSMediaRule")&&(u.CSSMediaRule=n.CSSMediaRule),v("CSSConditionRule")&&(u.CSSConditionRule=n.CSSConditionRule),v("CSSSupportsRule")&&(u.CSSSupportsRule=n.CSSSupportsRule));const a={};return Object.entries(u).forEach((([n,r])=>{a[n]={insertRule:r.prototype.insertRule,deleteRule:r.prototype.deleteRule},r.prototype.insertRule=new Proxy(a[n].insertRule,{apply:(0,s.l0)(((n,r,l)=>{const[i,s]=l,{id:c,styleId:u}=f(r.parentStyleSheet,t,o.styleMirror);return(c&&-1!==c||u&&-1!==u)&&e({id:c,styleId:u,adds:[{rule:i,index:[...m(r),s||0]}]}),n.apply(r,l)}))}),r.prototype.deleteRule=new Proxy(a[n].deleteRule,{apply:(0,s.l0)(((n,r,l)=>{const[i]=l,{id:s,styleId:c}=f(r.parentStyleSheet,t,o.styleMirror);return(s&&-1!==s||c&&-1!==c)&&e({id:s,styleId:c,removes:[{index:[...m(r),i]}]}),n.apply(r,l)}))})})),(0,s.l0)((()=>{n.CSSStyleSheet.prototype.insertRule=r,n.CSSStyleSheet.prototype.deleteRule=l,i&&(n.CSSStyleSheet.prototype.replace=i),c&&(n.CSSStyleSheet.prototype.replaceSync=c),Object.entries(u).forEach((([e,t])=>{t.prototype.insertRule=a[e].insertRule,t.prototype.deleteRule=a[e].deleteRule}))}))}(e,{win:o}),k=h(e,e.doc),M=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:o,stylesheetManager:n},{win:r}){const l=r.CSSStyleDeclaration.prototype.setProperty;r.CSSStyleDeclaration.prototype.setProperty=new Proxy(l,{apply:(0,s.l0)(((r,i,s)=>{var c;const[u,a,p]=s;if(o.has(u))return l.apply(i,[u,a,p]);const{id:d,styleId:y}=f(null===(c=i.parentRule)||void 0===c?void 0:c.parentStyleSheet,t,n.styleMirror);return(d&&-1!==d||y&&-1!==y)&&e({id:d,styleId:y,set:{property:u,value:a,priority:p},index:m(i.parentRule)}),r.apply(i,s)}))});const i=r.CSSStyleDeclaration.prototype.removeProperty;return r.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:(0,s.l0)(((r,l,s)=>{var c;const[u]=s;if(o.has(u))return i.apply(l,[u]);const{id:a,styleId:p}=f(null===(c=l.parentRule)||void 0===c?void 0:c.parentStyleSheet,t,n.styleMirror);return(a&&-1!==a||p&&-1!==p)&&e({id:a,styleId:p,remove:{property:u},index:m(l.parentRule)}),r.apply(l,s)}))}),(0,s.l0)((()=>{r.CSSStyleDeclaration.prototype.setProperty=l,r.CSSStyleDeclaration.prototype.removeProperty=i}))}(e,{win:o}),e.collectFonts&&(E=function({fontCb:e,doc:t}){const o=t.defaultView;if(!o)return()=>{};const n=[],l=new WeakMap,i=o.FontFace;o.FontFace=function(e,t,o){const n=new i(e,t,o);return l.set(n,{family:e,buffer:"string"!=typeof t,descriptors:o,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),n};const c=(0,r.patch)(t.fonts,"add",(function(t){return function(o){return setTimeout((0,s.l0)((()=>{const t=l.get(o);t&&(e(t),l.delete(o))})),0),t.apply(this,[o])}}));return n.push((()=>{o.FontFace=i})),n.push(c),(0,s.l0)((()=>{n.forEach((e=>e()))}))}(e)));const O=function(e){const{doc:t,mirror:o,blockClass:n,blockSelector:l,selectionCb:i}=e;let c=!0;const u=(0,s.l0)((()=>{const e=t.getSelection();if(!e||c&&(null==e?void 0:e.isCollapsed))return;c=e.isCollapsed||!1;const s=[],u=e.rangeCount||0;for(let t=0;t<u;t++){const i=e.getRangeAt(t),{startContainer:c,startOffset:u,endContainer:a,endOffset:p}=i;(0,r.isBlocked)(c,n,l,!0)||(0,r.isBlocked)(a,n,l,!0)||s.push({start:o.getId(c),startOffset:u,end:o.getId(a),endOffset:p})}i({ranges:s})}));return u(),(0,r.on)("selectionchange",u)}(e),x=function({doc:e,customElementCb:t}){const o=e.defaultView;return o&&o.customElements?(0,r.patch)(o.customElements,"define",(function(e){return function(o,n,r){try{t({define:{name:o}})}catch(e){console.warn(`Custom element callback failed for ${o}`)}return e.apply(this,[o,n,r])}})):()=>{}}(e),D=[];for(const t of e.plugins)D.push(t.observer(t.callback,o,t.options));return(0,s.l0)((()=>{c.forEach((e=>e.reset())),null==i||i.disconnect(),C(),b(),g(),w(),R(),T(),I(),k(),M(),E(),O(),x(),D.forEach((e=>e()))}))}function b(e){return void 0!==window[e]}function v(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}}}]);
//# sourceMappingURL=https://www.scribd.com/webpack/monolith/8315.5a21c286b0029dd6332d.js.map