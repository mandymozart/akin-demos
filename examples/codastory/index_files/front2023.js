(()=>{var e={5345:()=>{jQuery((function(e){if(e(document).on("click",".button-more, .button--get",(function(t){t.preventDefault(),t.stopPropagation();const n=e(this),o=n.parent(),s=(n.data("page")||1)+1;return e.ajax({type:"POST",dataType:"html",url:codaData.ajaxUrl,data:{author:n.data("author")||0,postid:n.data("postid"),type:n.data("type")||"posts",cat:n.data("category"),pageNumber:s,ppp:n.data("ppp")||3,color:n.data("color"),action:n.data("action")||"more_post_ajax",query:n.data("query"),taxonomy:n.data("taxonomy"),exclude:n.data("exclude"),showDate:n.data("show-date")||!1},success:function(t){var a=e(t);return a.length?(a.insertBefore(o),n.data("page",s),e(o.parent()).find(".no-more-posts").length&&n.remove(),!1):(n.remove(),!1)},error:function(e,t,n){}}),!1})),e(".donate__toggle-option").click((function(){var t=e(this).data("type");e(".donate-buttons.open").removeClass("open"),e(".donate-buttons."+t).addClass("open"),e(".donate__toggle-option").removeClass("selected"),e(this).addClass("selected")})),e(".newsletter-subscribe").length){var t=e(".newsletter-archive__title").text();e(".mc4wp-form-fields :checkbox").prop("checked",!1),e(".mc4wp-form-fields span:contains("+t+")").prev().prop("checked",!0)}if(e(".article .newsletter #mc_embed_signup, .category__newsletter .mc4wp-form").length&&(t=e(".article .newsletter, .category__newsletter").data("newsletter"),e(".mc4wp-form-fields :checkbox").prop("checked",!1),e(".mc4wp-form-fields span:contains("+t+")").prev().prop("checked",!0)),e("body").hasClass("category-newsletters")){var n=e(".subscribe__list :checkbox").length;e(".mc4wp-form-fields").prepend('<div class="subscribe-form__selected">'+n+"&nbsp;Newsletters&nbsp;selected</div>"),e(".subscribe__list :checkbox").change((function(){var t=e(this).data("newsletter");this.checked?(e(".mc4wp-form-fields span:contains("+t+")").prev().prop("checked",!0),n++):(e(".mc4wp-form-fields span:contains("+t+")").prev().prop("checked",!1),n--),e(".subscribe-form__selected").html(n+"&nbsp;Newsletters&nbsp;selected")})),e(document).on("submit",".mc4wp-form",(function(t){if(0===n)return t.preventDefault(),e(".mc4wp-response").html('<div class="mc4wp-alert mc4wp-error" role="alert">Please select at least one newsletter before submitting the form.</div>'),!1})),e(document).on("click",".mc4wp-form button[type='submit']",(function(t){if(0===n)return t.preventDefault(),e(".mc4wp-response").html('<div class="mc4wp-alert mc4wp-error" role="alert">Please select at least one newsletter before submitting the form.</div>'),!1})),e(document).ajaxSend((function(t,o,s){s.url.includes("mc4wp")&&0===n&&(o.abort(),e(".mc4wp-response").html('<div class="mc4wp-alert mc4wp-error" role="alert">Please select at least one newsletter before submitting the form.</div>'))}))}if(e(".subscribe .subscribe__preview").length&&e(".subscribe .subscribe__preview").each((function(){var t=e(this).data("newsletter");e(this).insertAfter(e(".mc4wp-form-fields").find("span:contains("+t+")"))})),e(".wp-block-gallery.columns-1").find(".wp-block-image figcaption").wrap('<div class="captionwrap"></div>').wrapInner("<span></span>"),e(".article").children().first().is(".wp-block-cover, .wp-block-gallery")){e(".page-header").addClass("hidden");let s=e(window).height(),a=e(window).width();function o(){a<670&&s>a?e(".is-position-bottom-left .wp-block-cover__image-background, .is-position-bottom-right .wp-block-cover__image-background").each((function(){const t=e(this).next(".wp-block-cover__inner-container").height();e(this).css("height","calc(100% - "+t+"px)")})):e(".is-position-bottom-left .wp-block-cover__image-background, .is-position-bottom-right .wp-block-cover__image-background").css("height","")}e(window).on("resize",(function(){s=e(window).height(),a=e(window).width(),o()})),e(window).scroll((function(){let t=e(window).scrollTop();const n=e(".article-body").offset();t+s/2>n.top&&e(".page-header").hasClass("hidden")?e(".page-header").removeClass("hidden"):t+s/2<=n.top&&!e(".page-header").hasClass("hidden")&&e(".page-header").addClass("hidden")})),o()}})),document.addEventListener("DOMContentLoaded",(()=>{if([...document.links].forEach((e=>e.target=e.hostname==window.location.hostname?e.target:"_blank")),"function"!=typeof gtag)return;const e=Array.from(document.querySelectorAll(".read-next__posts a")),t=Array.from(document.querySelectorAll(".top-stories__posts a"));if(0==e.length&&0==t.length)return;const n=(e,t)=>n=>{const o=t.indexOf(n.target.closest("a"));o<0||gtag("event","select_content",{content_type:`section_${e}_story`,content_id:o})},o=n("read-next",e);for(const t of e)t.addEventListener("click",o);const s=n("top-stories",t);for(const e of t)e.addEventListener("click",s)}))},7490:()=>{!function(e){var t,n,o,s,a,r;if((t=document.getElementById("site-navigation"))&&void 0!==(n=t.getElementsByTagName("button")[0]))if(void 0!==(o=t.getElementsByTagName("ul")[0])){for(o.setAttribute("aria-expanded","false"),-1===o.className.indexOf("nav-menu")&&(o.className+=" nav-menu"),n.onclick=function(){-1!==t.className.indexOf("toggled")?(t.className=t.className.replace(" toggled",""),n.setAttribute("aria-expanded","false"),o.setAttribute("aria-expanded","false")):(t.className+=" toggled",n.setAttribute("aria-expanded","true"),o.setAttribute("aria-expanded","true"))},a=0,r=(s=o.getElementsByTagName("a")).length;a<r;a++)s[a].addEventListener("focus",i,!0),s[a].addEventListener("blur",i,!0);!function(e){var t,n,o=e.querySelectorAll(".menu-item-has-children > a, .page_item_has_children > a");if("ontouchstart"in window)for(t=function(e){var t,n=this.parentNode;if(n.classList.contains("focus"))n.classList.remove("focus");else{for(e.preventDefault(),t=0;t<n.parentNode.children.length;++t)n!==n.parentNode.children[t]&&n.parentNode.children[t].classList.remove("focus");n.classList.add("focus")}},n=0;n<o.length;++n)o[n].addEventListener("touchstart",t,!1)}(t),window.setTimeout((function(){e("div.nav>.nav-menu>ul.nav-menu__items>li>a").click((function(t){t.preventDefault(),t.stopPropagation(),e(this).data("slug");var n=e(this).data("id");return e("div.nav>.nav-menu>.nav-menu__submenu>.submenu").each((function(t,o){e(o).data("id")==n?e(o).toggleClass("is-active"):e(o).removeClass("is-active")})),!1}))}),500)}else n.style.display="none";function i(){for(var e=this;-1===e.className.indexOf("nav-menu");)"li"===e.tagName.toLowerCase()&&(-1!==e.className.indexOf("focus")?e.className=e.className.replace(" focus",""):e.className+=" focus"),e=e.parentElement}}(jQuery)},1949:()=>{const e=function(){const e=document.querySelector(".article");let t,n;if(!e)return;const o=window.innerHeight,s=()=>e.clientHeight+o/2-o,a=document.querySelector(".header-progressbar__track");let r=s();const i=()=>{t=(window.scrollY-e.offsetTop)/r*100,n=t<0?0:t,a.style.width=n+"%"};window.addEventListener("scroll",(e=>{let t=!1;return()=>{t||(e(),t=!0,setTimeout((()=>{t=!1}),100))}})(i)),window.addEventListener("scroll",(e=>{let t;return()=>{clearTimeout(t),t=setTimeout((()=>{e()}),200)}})(i)),window.addEventListener("resize",(()=>{i(),r=s()}),!0)};e(),window.coda.push(e)}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}(()=>{"use strict";function e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)e[o]=n[o]}return e}n(7490);var t=function t(n,o){function s(t,s,a){if("undefined"!=typeof document){"number"==typeof(a=e({},o,a)).expires&&(a.expires=new Date(Date.now()+864e5*a.expires)),a.expires&&(a.expires=a.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var i in a)a[i]&&(r+="; "+i,!0!==a[i]&&(r+="="+a[i].split(";")[0]));return document.cookie=t+"="+n.write(s,t)+r}}return Object.create({set:s,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var t=document.cookie?document.cookie.split("; "):[],o={},s=0;s<t.length;s++){var a=t[s].split("="),r=a.slice(1).join("=");try{var i=decodeURIComponent(a[0]);if(o[i]=n.read(r,i),e===i)break}catch(e){}}return e?o[e]:o}},remove:function(t,n){s(t,"",e({},n,{expires:-1}))},withAttributes:function(n){return t(this.converter,e({},this.attributes,n))},withConverter:function(n){return t(e({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(o)},converter:{value:Object.freeze(n)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});const o=jQuery;window.coda=[];const s=o("body");function a(e,t){const n=o(e);void 0!==t&&o(t.currentTarget).toggleClass("is-active"),n.toggleClass("is-active"),s.toggleClass("page--shutter-active")}s.removeClass("state-animateIn"),setTimeout((function(){s.removeClass("state-animate")}),2e3),o(document).on("click",".js-shareToggle",(function(){o(".header__share-items").toggleClass("is-hidden")})),window.onkeydown=function(e){27==e.keyCode&&(s.removeClass("page--menu-active page--shutter-active"),o(".js-searchToggle, .js-menu, .header-shutter, .nav").removeClass("is-active"))},o(document).on("click",".js-menu",(function(e){s.toggleClass("page--menu-active"),a(".header-shutter--menu",e)})),o(document).on("click",".js-searchToggle",(function(e){a(".header-shutter--search",e)})),o(document).on("click",".nav-edition",(function(){a(".nav")})),o(document).on("click",".nav-menu__items a",(function(){let e,t;event.preventDefault(),e=o(this).parent("li").index(),t=o(".nav-menu__submenu").find(".submenu").eq(e),t.toggleClass("is-active").siblings().removeClass("is-active")})),o(document).on("click",".edition-chapter__video",(function(){o(this).addClass("is-active").find("iframe")[0].src+="&autoplay=1",o(this).parents(".edition-chapter--video").addClass("is-played")})),o(document).on("click",".social-item__share",(function(e){return e.preventDefault(),function(e){const t=window.screen.width/2-240,n=["toolbar=no","location=no","directories=no","status=no","menubar=no","scrollbars=no","resizable=no","copyhistory=no","width=600","height=320","top="+(window.screen.height/2-160),`left=${t}`];window.open(e,"share",n.join(", "))}(o(this).attr("href")),!1}));const r=o(".popover"),i=o(".popover-actions");!t.get("popover-cookies")&&r.addClass("popover--isVisible"),i.delegate("button","click",(function(){r.removeClass("popover--isVisible"),t.set("popover-cookies",!1,{expires:365,path:""})})),n(5345),n(1949)})()})();